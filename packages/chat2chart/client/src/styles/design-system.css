/**
 * Aiser Design System - Comprehensive Implementation
 * Single source of truth for all design tokens and component styles
 */

/* ========================================
   DESIGN TOKEN MAPPING
   ======================================== */

/* Enhanced Color Adaptation - Direct Color Values for Reliability */
:root {
  /* Light Mode - Stronger header/sidebar than page background */
  --layout-background: #f8f9fa; /* Lightest - page background */
  --layout-header-background: #e8eaed; /* Stronger than page background */
  --layout-sidebar-background: #e8eaed; /* Same as header - stronger than page */
  --layout-sidebar-background-hover: #d1d5db; /* Even stronger on hover */
  --layout-content-background: #ffffff; /* Content area - distinct from panels */
  --layout-panel-background: #f1f3f4; /* Panel background - distinct from content */
  --layout-panel-background-subtle: #f0f2f5;
  --layout-panel-background-raised: #f1f3f4;
  --layout-background-container: #f1f3f4;
}

[data-theme="dark"] {
  /* Dark Mode - Dark blue theme */
  --layout-background: #0d1117; /* Darkest - page background */
  --layout-header-background: #001529; /* Dark blue header */
  --layout-sidebar-background: #001529; /* Dark blue sidebar */
  --layout-sidebar-background-hover: #002140; /* Slightly lighter hover */
  --layout-content-background: #161b22; /* Content area - distinct from panels */
  --layout-panel-background: #1c2128; /* Panel background - distinct from content */
  --layout-panel-background-subtle: #21262d;
  --layout-panel-background-raised: #1c2128;
  --layout-background-container: #1c2128;
  
  /* Dark Mode Text Colors */
  --color-text-primary: #ffffff; /* White text for dark mode */
  --color-text-secondary: #bfbfbf;
  --color-text-tertiary: #8c8c8c;
  --color-text-quaternary: #6b7280;
  
  /* Dark Mode Border Colors */
  --color-border-primary: #404040;
  --color-border-secondary: #374151;
  --border-color: #404040;
}

/* Enhanced Shadow Tokens for Better Visibility */
:root {
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07), 0 2px 4px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1), 0 10px 10px rgba(0, 0, 0, 0.04);
  
  /* Text Tokens - Direct color values */
  --color-text-primary: #262626;
  --color-text-secondary: #595959;
  --color-text-tertiary: #8c8c8c;
  --color-text-quaternary: #bfbfbf;
  
  /* Border Tokens - Direct color values */
  --color-border-primary: #d9d9d9;
  --color-border-secondary: #f0f0f0;
  --border-color: #d9d9d9;
  
  /* Brand Tokens */
  --color-brand-primary: #2563eb;
  --color-brand-primary-hover: #1d4ed8;
  --color-brand-primary-active: #1e40af;
  --color-brand-primary-light: #60a5fa;
  --color-brand-primary-foreground: #ffffff;
  
  /* Functional Tokens */
  --color-functional-success: #16a34a;
  --color-functional-success-hover: #15803d;
  --color-functional-success-light: #22c55e;
  --color-functional-success-foreground: #ffffff;
  
  --color-functional-warning: #f97316;
  --color-functional-warning-hover: #ea580c;
  --color-functional-warning-light: #fb923c;
  --color-functional-warning-foreground: #ffffff;
  
  --color-functional-danger: #dc2626;
  --color-functional-danger-hover: #b91c1c;
  --color-functional-danger-light: #ef4444;
  --color-functional-danger-foreground: #ffffff;
  
  --color-functional-info: #0891b2;
  --color-functional-info-hover: #0e7490;
  --color-functional-info-light: #06b6d4;
  --color-functional-info-foreground: #ffffff;
  
  /* Surface Tokens - Light Mode */
  --color-surface-base: #f5f5f5;
  --color-surface-raised: #fafafa;
  --color-surface-overlay: #ffffff;
  
  /* Additional Layout Tokens - Light Mode */
  --layout-background-container-secondary: #fafafa;
  --layout-background-container-hover: #f0f0f0;
  --layout-background-subtle: #fafafa;
  
  /* Additional Brand Tokens */
  --color-brand-primary-light: #dbeafe;
  --color-brand-primary-dark: #1e40af;
  --color-brand-primary-foreground: #ffffff;
  
  /* Additional Border Tokens */
  --color-border-primary-strong: #d9d9d9;
  
  /* Additional Text Tokens */
  --color-text-tertiary: #8c8c8c;
  
  /* Input Tokens */
  --color-input-background: #ffffff;
  --color-input-border: #d9d9d9;
  
  /* Code Tokens */
  --code-background: #fafafa;
  --code-inline-background: #fafafa;
  --code-color: #262626;
  
  /* Tag Tokens */
  --tag-background: #fafafa;
  
  /* Functional Light Variants */
  --color-functional-success-light: #dcfce7;
  --color-functional-warning-light: #fed7aa;
  --color-functional-danger-light: #fecaca;
  --color-functional-info-light: #cffafe;
  
  /* Border Radius Tokens */
  --ant-border-radius: 6px;
  --ant-border-radius-sm: 4px;
  --ant-border-radius-md: 6px;
  --ant-border-radius-lg: 8px;
  
  /* Font Size Tokens */
  --font-size-xs: 12px;
  --font-size-sm: 13px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  
}

/* Dark Mode Enhanced Shadows */
[data-theme="dark"] {
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.4), 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.4), 0 4px 6px rgba(0, 0, 0, 0.3);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.4), 0 10px 10px rgba(0, 0, 0, 0.3);
  
  /* Enhanced Panel Backgrounds for Better Contrast */
  --layout-panel-background: #1a1a1a;
  --layout-panel-background-subtle: #2a2a2a;
  --layout-panel-background-raised: #1a1a1a;
  
  /* Dark Mode Layout Tokens */
  --layout-background: #0f0f0f;
  --layout-header-background: #1a1a1a;
  --layout-sidebar-background: #2a2a2a;
  --layout-sidebar-background-hover: #333333;
  --layout-content-background: #0f0f0f;
  --layout-background-container: #1a1a1a;
  --layout-background-container-secondary: #2a2a2a;
  --layout-background-container-hover: #333333;
  --layout-background-subtle: #2a2a2a;
  
  /* Dark Mode Text Tokens */
  --color-text-primary: #ffffff;
  --color-text-secondary: #d9d9d9;
  --color-text-tertiary: #a6a6a6;
  --color-text-quaternary: #737373;
  
  /* Dark Mode Border Tokens */
  --color-border-primary: #434343;
  --color-border-secondary: #303030;
  --border-color: #434343;
  --color-border-primary-strong: #434343;
  
  /* Dark Mode Surface Tokens */
  --color-surface-base: #141414;
  --color-surface-raised: #262626;
  --color-surface-overlay: #1f1f1f;
  
  /* Dark Mode Input Tokens */
  --color-input-background: #1f1f1f;
  --color-input-border: #434343;
  
  /* Dark Mode Code Tokens */
  --code-background: #262626;
  --code-inline-background: #262626;
  --code-color: #ffffff;
  
  /* Dark Mode Tag Tokens */
  --tag-background: #262626;
  
  /* Dark Mode Functional Light Variants */
  --color-functional-success-light: #166534;
  --color-functional-warning-light: #c2410c;
  --color-functional-danger-light: #991b1b;
  --color-functional-info-light: #0c4a6e;
}

/* ========================================
   LAYOUT COMPONENTS
   ======================================== */

/* Main Layout */
.ant-layout {
  background: var(--layout-background) !important;
}

.ant-layout-header {
  background: var(--layout-header-background) !important;
  border-bottom: 1px solid var(--color-border-primary) !important;
}

.ant-layout-sider {
  background: var(--layout-sidebar-background) !important;
  border-right: 2px solid var(--color-border-primary) !important;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1) !important;
}

.ant-layout-content {
  background: var(--layout-content-background) !important;
}

/* Force Layout Children */
.ant-layout-sider .ant-layout-sider-children {
  background: var(--layout-sidebar-background) !important;
}

.ant-menu {
  background: var(--layout-sidebar-background) !important;
}

.ant-menu-inline {
  background: var(--layout-sidebar-background) !important;
}

.ant-layout-header > * {
  background: transparent !important;
}

.ant-layout-sider > div:first-child {
  background: var(--layout-sidebar-background) !important;
}

.ant-layout-sider .ant-menu-root {
  background: var(--layout-sidebar-background) !important;
}

/* Enhanced Sidebar Menu Items */
.ant-menu-item {
  margin: 4px 8px !important;
  border-radius: 6px !important;
  transition: all 0.2s ease !important;
}

.ant-menu-item:hover {
  background: var(--color-brand-primary-light) !important;
  color: var(--color-brand-primary) !important;
}

.ant-menu-item-selected {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
}

.ant-menu-submenu {
  margin: 4px 8px !important;
  border-radius: 6px !important;
}

.ant-menu-submenu-title {
  border-radius: 6px !important;
  transition: all 0.2s ease !important;
}

.ant-menu-submenu-title:hover {
  background: var(--color-brand-primary-light) !important;
  color: var(--color-brand-primary) !important;
}

/* Dashboard Studio Dropdown Styling */
.ant-dropdown,
.ant-dropdown-menu {
  background: var(--layout-panel-background) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-xl) !important;
  border-radius: 12px !important;
  padding: 8px !important;
}

.ant-dropdown-menu-item {
  color: var(--color-text-primary) !important;
  background: transparent !important;
  border-radius: 8px !important;
  margin: 2px 0 !important;
  padding: 8px 12px !important;
  transition: all 0.2s ease !important;
}

.ant-dropdown-menu-item:hover {
  background: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
  transform: translateX(4px) !important;
}

.ant-dropdown-menu-item-selected {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

/* Project Selector Dropdown */
.ant-select-dropdown {
  background: var(--layout-panel-background) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-xl) !important;
  border-radius: 12px !important;
  padding: 8px !important;
}

.ant-select-item {
  color: var(--color-text-primary) !important;
  background: transparent !important;
  border-radius: 8px !important;
  margin: 2px 0 !important;
  padding: 8px 12px !important;
  transition: all 0.2s ease !important;
}

.ant-select-item:hover {
  background: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
  transform: translateX(4px) !important;
}

.ant-select-item-option-selected {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

/* Select Dropdown Styling */
.ant-select-dropdown {
  background: var(--layout-sidebar-background) !important;
  border: 1px solid var(--color-border-primary) !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.ant-select-item {
  border-radius: 6px !important;
  margin: 2px 4px !important;
  transition: all 0.2s ease !important;
}

.ant-select-item:hover {
  background: var(--color-brand-primary-light) !important;
  color: var(--color-brand-primary) !important;
}

.ant-select-item-option-selected {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
}

/* Debug: Test if CSS variables are working */
body {
  background: var(--layout-background) !important;
  color: var(--color-text-primary) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  overflow-x: hidden !important;
}

/* Force test styles */
.test-panel {
  background: var(--layout-panel-background) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-md) !important;
  padding: 16px !important;
  margin: 8px !important;
  border-radius: var(--ant-border-radius-lg) !important;
}

/* Global Backgrounds - Remove ALL white edges */
* {
  margin: 0 !important;
  padding: 0 !important;
  box-sizing: border-box !important;
}

html, body {
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  overflow-x: hidden !important;
  background: var(--layout-background) !important;
}

#__next {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  overflow-x: hidden !important;
}

/* Force Ant Design Layout Components */
.ant-layout,
.ant-layout-has-sider {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Force main content area */
.ant-layout-content {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Force page content div */
.page-content {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* ========================================
   COMPREHENSIVE ANT DESIGN OVERRIDE SYSTEM
   ======================================== */

/* Force our design system to override Ant Design's automatic theming */
.ant-layout,
.ant-layout-has-sider {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Force header to use our colors - highest specificity */
.ant-layout-header {
  background: var(--layout-header-background) !important;
  border-bottom: 3px solid var(--color-border-primary) !important;
  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15) !important;
  margin: 0 !important;
  padding: 0 16px !important;
  width: 100% !important;
  height: 64px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

/* Force sidebar to use our colors - highest specificity */
.ant-layout-sider,
.ant-layout-sider-light,
.ant-layout-sider-dark,
.ant-layout-sider-collapsed {
  background: var(--layout-sidebar-background) !important;
  border-right: 3px solid var(--color-border-primary) !important;
  box-shadow: 3px 0 12px rgba(0, 0, 0, 0.15) !important;
}

/* Force sidebar menu to use our colors - highest specificity */
.ant-menu,
.ant-menu-light,
.ant-menu-dark,
.ant-menu-root,
.ant-menu-inline,
.ant-menu-vertical {
  background: var(--layout-sidebar-background) !important;
  color: var(--color-text-primary) !important;
}

.ant-menu-item,
.ant-menu-submenu-title,
.ant-menu-item-only-child {
  color: var(--color-text-primary) !important;
  background: transparent !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  padding: 8px 12px !important;
}

.ant-menu-item:hover,
.ant-menu-submenu-title:hover,
.ant-menu-item-only-child:hover {
  background: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
  transform: translateX(2px) !important;
  transition: all 0.2s ease !important;
}

.ant-menu-item-selected,
.ant-menu-item-selected:hover {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

/* Force navigation menu items to align with sidebar */
.ant-menu-item,
.ant-menu-submenu-title {
  background: transparent !important;
  border: none !important;
  outline: none !important;
}

.ant-menu-item:focus,
.ant-menu-submenu-title:focus {
  background: transparent !important;
  outline: none !important;
}

.ant-menu-item:active,
.ant-menu-submenu-title:active {
  background: var(--layout-sidebar-background-hover) !important;
}

/* Force sidebar submenu */
.ant-menu-submenu-popup,
.ant-menu-submenu-popup .ant-menu {
  background: var(--layout-panel-background) !important;
  border: 1px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-lg) !important;
  border-radius: 8px !important;
}

.ant-menu-submenu-popup .ant-menu-item {
  margin: 2px 4px !important;
  border-radius: 4px !important;
  color: var(--color-text-primary) !important;
  background: transparent !important;
}

.ant-menu-submenu-popup .ant-menu-item:hover {
  background: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
}

/* Force main content area */
.ant-layout-content {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Force dropdowns to use our colors */
.ant-dropdown,
.ant-dropdown-menu {
  background: var(--layout-panel-background) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-xl) !important;
  border-radius: 12px !important;
  padding: 8px !important;
}

.ant-dropdown-menu-item {
  color: var(--color-text-primary) !important;
  background: transparent !important;
  border-radius: 8px !important;
  margin: 2px 0 !important;
  padding: 8px 12px !important;
  transition: all 0.2s ease !important;
}

.ant-dropdown-menu-item:hover {
  background: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
  transform: translateX(4px) !important;
}

.ant-dropdown-menu-item-selected {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

/* Force select dropdowns */
.ant-select-dropdown {
  background: var(--layout-panel-background) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-xl) !important;
  border-radius: 12px !important;
  padding: 8px !important;
}

.ant-select-item {
  color: var(--color-text-primary) !important;
  background: transparent !important;
  border-radius: 8px !important;
  margin: 2px 0 !important;
  padding: 8px 12px !important;
  transition: all 0.2s ease !important;
}

.ant-select-item:hover {
  background: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
  transform: translateX(4px) !important;
}

.ant-select-item-option-selected {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

/* ========================================
   GLOBAL CSS RESET - ELIMINATE ALL WHITE EDGES
   ======================================== */

/* Reset all browser defaults */
*,
*::before,
*::after {
  margin: 0 !important;
  padding: 0 !important;
  box-sizing: border-box !important;
}

/* Remove default margins from all elements */
html,
body,
div,
span,
applet,
object,
iframe,
h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote,
pre,
a,
abbr,
acronym,
address,
big,
cite,
code,
del,
dfn,
em,
img,
ins,
kbd,
q,
s,
samp,
small,
strike,
strong,
sub,
sup,
tt,
var,
b,
u,
i,
center,
dl,
dt,
dd,
ol,
ul,
li,
fieldset,
form,
label,
legend,
table,
caption,
tbody,
tfoot,
thead,
tr,
th,
td,
article,
aside,
canvas,
details,
embed,
figure,
figcaption,
footer,
header,
hgroup,
menu,
nav,
output,
ruby,
section,
summary,
time,
mark,
audio,
video {
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
  font-size: 100% !important;
  font: inherit !important;
  vertical-align: baseline !important;
}

/* HTML5 display-role reset for older browsers */
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
menu,
nav,
section {
  display: block !important;
}

body {
  line-height: 1 !important;
}

ol,
ul {
  list-style: none !important;
}

blockquote,
q {
  quotes: none !important;
}

blockquote:before,
blockquote:after,
q:before,
q:after {
  content: '' !important;
  content: none !important;
}

table {
  border-collapse: collapse !important;
  border-spacing: 0 !important;
}

/* ========================================
   ULTRA-AGGRESSIVE WHITE EDGE ELIMINATION
   ======================================== */

/* Force viewport to have no margins/padding at all levels */
html {
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: var(--layout-background) !important;
  overflow-x: hidden !important;
}

body {
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: var(--layout-background) !important;
  overflow-x: hidden !important;
}

#__next {
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: var(--layout-background) !important;
  overflow-x: hidden !important;
}

/* Force Ant Design layout to have absolutely no margins/padding */
.ant-layout {
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: var(--layout-background) !important;
  position: relative !important;
}

.ant-layout-has-sider {
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: var(--layout-background) !important;
}

/* Ultra-aggressive header styling with maximum specificity */
.ant-layout-header,
div[class*="ant-layout-header"],
.ant-layout-header > * {
  background: var(--layout-header-background) !important;
  background-color: var(--layout-header-background) !important;
  border-bottom: 2px solid var(--color-border-primary) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 1000 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  padding: 0 16px !important;
}

/* Dark mode header enhancements - stronger color */
[data-theme="dark"] .ant-layout-header {
  background-color: #21262d; /* Stronger than page background */
  border-bottom-color: #404040;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
}

/* Header content styling */
.ant-layout-header .header-content {
  display: flex;
  align-items: center;
  gap: 16px;
  color: var(--ant-color-text, var(--color-text-primary));
}

[data-theme="dark"] .ant-layout-header .header-content {
  color: #e5e5e5;
}

/* Eliminate any potential gaps above header */
body,
html,
#__next {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Force viewport to start exactly at top */
html {
  margin: 0 !important;
  padding: 0 !important;
  overflow-x: hidden !important;
}

body {
  margin: 0 !important;
  padding: 0 !important;
  overflow-x: hidden !important;
}

/* ========================================
   FORCE SIDEBAR THEME ADAPTATION
   ======================================== */

/* Ultra-aggressive sidebar styling with maximum specificity */
.ant-layout-sider,
.ant-layout-sider-light,
.ant-layout-sider-dark,
.ant-layout-sider-collapsed,
div[class*="ant-layout-sider"],
.ant-layout-sider-children {
  background: var(--layout-sidebar-background) !important;
  background-color: var(--layout-sidebar-background) !important;
  border-right: 2px solid var(--color-border-primary) !important;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1) !important;
}

/* Dark mode sidebar - harmonized with dropdown background */
[data-theme="dark"] .ant-layout-sider {
  background-color: #1a1a1a; /* Same as dropdown background */
  border-right-color: #404040;
  box-shadow: 2px 0 12px rgba(0, 0, 0, 0.3);
}

/* Ultra-aggressive menu styling with maximum specificity */
.ant-menu,
.ant-menu-light,
.ant-menu-dark,
.ant-menu-root,
.ant-menu-inline,
.ant-menu-vertical,
div[class*="ant-menu"],
.ant-menu-item,
.ant-menu-submenu-title,
.ant-menu-item-only-child {
  background: var(--layout-sidebar-background) !important;
  background-color: var(--layout-sidebar-background) !important;
  color: var(--color-text-primary) !important;
}

.ant-menu-item,
.ant-menu-submenu-title,
.ant-menu-item-only-child {
  border-radius: 6px !important;
  margin: 2px 8px !important;
  transition: all 0.2s ease !important;
}

.ant-menu-item:hover,
.ant-menu-submenu-title:hover,
.ant-menu-item-only-child:hover {
  background: var(--layout-sidebar-background-hover) !important;
  background-color: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
  transform: translateX(2px) !important;
}

.ant-menu-item-selected,
.ant-menu-item-selected:hover {
  background: var(--color-brand-primary) !important;
  background-color: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

/* Dark mode specific enhancements */
[data-theme="dark"] .ant-menu-item,
[data-theme="dark"] .ant-menu-submenu-title {
  color: #e5e5e5;
}

[data-theme="dark"] .ant-menu-item:hover,
[data-theme="dark"] .ant-menu-submenu-title:hover {
  background-color: #2a2a2a; /* Slightly lighter than sidebar (#1a1a1a) */
  color: #ffffff;
}

[data-theme="dark"] .ant-menu-item-selected,
[data-theme="dark"] .ant-menu-item-selected:hover {
  background-color: #2563eb;
  color: #ffffff;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
}

/* Force sidebar menu background */
.ant-menu,
.ant-menu-light,
.ant-menu-dark,
.ant-menu-root,
.ant-menu-inline,
.ant-menu-vertical,
div[class*="ant-menu"] {
  background: var(--layout-sidebar-background) !important;
  background-color: var(--layout-sidebar-background) !important;
  color: var(--color-text-primary) !important;
}

/* Force sidebar menu items */
.ant-menu-item,
.ant-menu-submenu-title,
.ant-menu-item-only-child,
li[class*="ant-menu-item"] {
  color: var(--color-text-primary) !important;
  background: transparent !important;
  background-color: transparent !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  padding: 8px 12px !important;
}

.ant-menu-item:hover,
.ant-menu-submenu-title:hover,
.ant-menu-item-only-child:hover,
li[class*="ant-menu-item"]:hover {
  background: var(--layout-sidebar-background-hover) !important;
  background-color: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
  transform: translateX(2px) !important;
  transition: all 0.2s ease !important;
}

.ant-menu-item-selected,
.ant-menu-item-selected:hover {
  background: var(--color-brand-primary) !important;
  background-color: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

/* Enhanced submenu styling for dark mode */
.ant-menu-submenu-popup,
.ant-menu-submenu-popup .ant-menu,
div[class*="ant-menu-submenu-popup"] {
  background: var(--ant-color-bg-elevated, var(--layout-panel-background));
  border: 1px solid var(--ant-color-border, var(--color-border-primary));
  box-shadow: var(--shadow-lg);
  border-radius: 8px;
}

.ant-menu-submenu-popup .ant-menu-item {
  margin: 2px 4px;
  border-radius: 4px;
  color: var(--ant-color-text, var(--color-text-primary));
  background: transparent;
  transition: all 0.2s ease;
}

.ant-menu-submenu-popup .ant-menu-item:hover {
  background: var(--ant-color-fill-quaternary, var(--layout-sidebar-background-hover));
  color: var(--ant-color-text, var(--color-text-primary));
}

/* Dark mode submenu enhancements - matching sidebar */
[data-theme="dark"] .ant-menu-submenu-popup {
  background: #1a1a1a; /* Same as sidebar */
  border-color: #404040;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .ant-menu-submenu-popup .ant-menu-item {
  color: #e5e5e5;
}

[data-theme="dark"] .ant-menu-submenu-popup .ant-menu-item:hover {
  background-color: #2a2a2a; /* Same as menu hover */
  color: #ffffff;
}

/* Force main content to account for fixed header and sidebar */
.ant-layout-content {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100vh !important;
  margin-top: 64px !important;
  margin-left: 256px !important;
  overflow-y: auto !important;
  position: relative !important;
}

/* Adjust content when sidebar is collapsed */
.ant-layout-has-sider .ant-layout-content {
  margin-left: 80px !important;
}

/* Force page content to fill all available space */
.page-content {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
  min-height: calc(100vh - 64px) !important;
}

/* Remove any potential gaps from flex containers */
.flex,
.flex-col,
.flex-row,
.d-flex {
  margin: 0 !important;
  padding: 0 !important;
}

/* Force all containers to have no margins/padding */
.container,
.container-fluid,
.row,
.col,
.col-1, .col-2, .col-3, .col-4, .col-5, .col-6,
.col-7, .col-8, .col-9, .col-10, .col-11, .col-12 {
  background: transparent !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Ensure viewport is full coverage with no gaps */
html, body, #__next, .ant-layout {
  min-height: 100vh !important;
  min-width: 100vw !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* ========================================
   RESPONSIVE ZOOM SUPPORT
   ======================================== */

/* Ensure all components scale properly with zoom */
* {
  box-sizing: border-box;
}

/* Responsive font sizes */
@media (min-resolution: 1.5dppx) {
  html {
    font-size: 16px;
  }
}

@media (min-resolution: 2dppx) {
  html {
    font-size: 18px;
  }
}

/* Ensure proper scaling for high DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .ant-layout,
  .ant-layout-header,
  .ant-layout-sider,
  .ant-layout-content {
    transform: scale(1);
    transform-origin: top left;
  }
}

/* Zoom-friendly spacing */
@media (min-width: 1200px) {
  :root {
    --space-scale: 1.2;
  }
}

@media (min-width: 1600px) {
  :root {
    --space-scale: 1.4;
  }
}

/* Ensure components maintain aspect ratios */
.ant-layout,
.ant-layout-header,
.ant-layout-sider,
.ant-layout-content,
.message-container,
.user-message,
.ai-message {
  min-height: 0;
  min-width: 0;
}

/* Responsive avatar sizes */
@media (max-width: 768px) {
  .user-avatar,
  .ai-avatar {
    width: 32px;
    height: 32px;
    font-size: 12px;
  }
}

@media (min-width: 1200px) {
  .user-avatar,
  .ai-avatar {
    width: 48px;
    height: 48px;
    font-size: 16px;
  }
}

.page-content {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/* Force full layout */
.ant-layout {
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

.ant-layout-content {
  margin: 0 !important;
  padding: 0 !important;
}

/* Remove all default margins and padding */
* {
  box-sizing: border-box !important;
}

*, *::before, *::after {
  margin: 0 !important;
  padding: 0 !important;
}

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center, dl, dt, dd, ol, ul, li,
fieldset, form, label, legend, table, caption,
tbody, tfoot, thead, tr, th, td, article, aside,
canvas, details, embed, figure, figcaption, footer,
header, hgroup, menu, nav, output, ruby, section,
summary, time, mark, audio, video {
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
  font-size: 100% !important;
  font: inherit !important;
  vertical-align: baseline !important;
}

/* ========================================
   CHAT COMPONENTS
   ======================================== */

/* Chat Panel */
.enhanced-chat-panel {
  background: var(--layout-panel-background-subtle);
  color: var(--color-text-primary);
  border-radius: var(--ant-border-radius-lg);
  box-shadow: var(--shadow-md);
  border: 2px solid var(--color-border-primary);
  position: relative;
  margin: 0;
}

.enhanced-chat-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--color-brand-primary), var(--color-functional-success));
  border-radius: var(--ant-border-radius-lg) var(--ant-border-radius-lg) 0 0;
  z-index: 1;
}

.chat-header {
  background: var(--layout-header-background);
  border-bottom: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
}

.chat-messages {
  background: var(--layout-background-container);
  color: var(--color-text-primary);
}

.chat-input-section {
  background: var(--layout-header-background);
  border-top: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
}

/* Message Components */
.user-message {
  background: var(--color-brand-primary);
  color: var(--color-brand-primary-foreground);
}

.ai-message {
  background: var(--color-surface-raised);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border-primary);
}

/* ========================================
   DATA COMPONENTS
   ======================================== */

.message-content {
  color: var(--color-text-primary);
}

/* Input Components */
.chat-textarea {
  background: var(--color-input-background) !important;
  border: 1px solid var(--color-input-border) !important;
  color: var(--color-text-primary) !important;
}

.chat-textarea:focus {
  border-color: var(--color-brand-primary) !important;
  box-shadow: 0 0 0 2px var(--color-brand-primary-light) !important;
}

.send-button {
  background: var(--color-brand-primary) !important;
  border-color: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
}

.send-button:hover:not(:disabled) {
  background: var(--color-brand-primary-hover) !important;
  border-color: var(--color-brand-primary-hover) !important;
}

/* ========================================
   DATA COMPONENTS
   ======================================== */

/* Data Panel */
.enhanced-data-panel {
  background: var(--layout-panel-background-raised);
  color: var(--color-text-primary);
  border: 2px solid var(--color-border-secondary);
  border-radius: var(--ant-border-radius-md);
  position: relative;
  box-shadow: var(--shadow-md);
  margin: 0;
}

.enhanced-data-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--color-functional-info), var(--color-brand-primary));
  border-radius: var(--ant-border-radius-md) var(--ant-border-radius-md) 0 0;
  z-index: 1;
}

.data-header {
  background: var(--color-surface-raised);
  border-bottom: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
}

.data-content {
  background: var(--layout-background-container);
  color: var(--color-text-primary);
}

/* History Panel */
.collapsible-history-panel {
  background: var(--layout-panel-background);
  color: var(--color-text-primary);
  border: 2px solid var(--color-border-primary);
  border-radius: var(--ant-border-radius-sm);
  position: relative;
  box-shadow: var(--shadow-sm);
  margin: 0;
}

.collapsible-history-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--color-functional-warning), var(--color-brand-primary));
  border-radius: var(--ant-border-radius-sm) var(--ant-border-radius-sm) 0 0;
  z-index: 1;
}

.history-panel-header {
  background: var(--color-surface-raised);
  border-bottom: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
  position: relative;
  z-index: 2;
}

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */

@media (max-width: 768px) {
  .enhanced-chat-panel {
    border-radius: 0;
  }
  
  .enhanced-data-panel {
    border-radius: 0;
  }
  
  .chat-history-panel {
    border-radius: 0;
  }
}

/* ========================================
   CHART COMPONENTS
   ======================================== */

.chart-container {
  background: var(--color-surface-base);
  border-radius: var(--ant-border-radius-md);
  padding: 16px;
  margin: 8px 0;
}

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */

@media (max-width: 768px) {
  .enhanced-chat-panel {
    border-radius: 0;
    margin: 0;
  }

/* ========================================
   CHART COMPONENTS
   ======================================== */

.chart-container {
  background: var(--layout-background-container);
  border: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
}

.chart-header {
  background: var(--color-surface-raised);
  border-bottom: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
}

/* ========================================
   CODE COMPONENTS
   ======================================== */

.markdown-content code {
  background: var(--code-inline-background);
  color: var(--code-color);
  border: 1px solid var(--color-border-secondary);
}

.markdown-content pre {
  background: var(--code-background);
  color: var(--code-color);
  border: 1px solid var(--color-border-primary);
}

/* ========================================
   METADATA COMPONENTS
   ======================================== */

.execution-metadata {
  background: var(--color-surface-raised);
  border: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
}

.metadata-content span {
  background: var(--tag-background);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border-secondary);
}

/* ========================================
   MODAL COMPONENTS
   ======================================== */

.modal-content {
  background: var(--layout-background-container);
  color: var(--color-text-primary);
}

.modal-header {
  background: var(--color-surface-raised);
  border-bottom: 1px solid var(--color-border-primary);
  color: var(--color-text-primary);
}

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */

@media (max-width: 768px) {
  .enhanced-chat-panel {
    border-radius: 0;
  }
  
  .chat-header,
  .chat-input-section {
    padding: 12px 16px;
  }
  
  .chat-messages {
    padding: 16px;
  }
  
  .ant-layout-sider {
    position: fixed !important;
    z-index: 1000 !important;
  }
  
  .ant-layout-content {
    margin-left: 0 !important;
  }
}

@media (max-width: 480px) {
  .chat-messages,
  .chat-input-section {
    padding: 12px;
  }
  
  .message-content {
    max-width: 95%;
    padding: 12px 16px;
  }
}

/* ========================================
   SCROLLBAR STYLING
   ======================================== */

.chat-messages::-webkit-scrollbar {
  width: 6px;
}

.chat-messages::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* Dark mode scrollbar */
[data-theme="dark"] .chat-messages::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
}

[data-theme="dark"] .chat-messages::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* ========================================
   ANIMATIONS
   ======================================== */

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message-container {
  animation: fadeInUp 0.3s ease-out;
}

/* ========================================
   ACCESSIBILITY
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  .message-container {
    animation: none;
  }
  
  * {
    transition: none !important;
  }
}

/* Focus indicators */
*:focus {
  outline: 2px solid var(--color-brand-primary);
  outline-offset: 2px;
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

.text-primary {
  color: var(--color-text-primary);
}

.text-secondary {
  color: var(--color-text-secondary);
}

.text-tertiary {
  color: var(--color-text-tertiary);
}

.bg-primary {
  background: var(--layout-background);
}

.bg-container {
  background: var(--layout-background-container);
}

.bg-elevated {
  background: var(--color-surface-raised);
}

.border-primary {
  border-color: var(--color-border-primary);
}

/* ========================================
   CRITICAL OVERRIDES - HIGHEST PRIORITY
   ======================================== */

/* Force our design system to take precedence */
.enhanced-chat-panel,
.enhanced-data-panel,
.collapsible-history-panel,
.test-panel {
  background: var(--layout-panel-background) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-lg) !important;
  border-radius: var(--ant-border-radius-lg) !important;
  margin: 8px !important;
  position: relative !important;
}

/* Enhanced panel backgrounds for better contrast */
.enhanced-chat-panel {
  background: var(--layout-panel-background-subtle) !important;
}

.enhanced-data-panel {
  background: var(--layout-panel-background-raised) !important;
}

.collapsible-history-panel {
  background: var(--layout-panel-background) !important;
}

/* Force body and layout backgrounds */
body,
html,
#__next,
.ant-layout,
.ant-layout-content {
  background: var(--layout-background) !important;
  color: var(--color-text-primary) !important;
}

/* Force sidebar and header backgrounds */
.ant-layout-header {
  background: var(--layout-header-background) !important;
  border-bottom: 1px solid var(--color-border-primary) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
}

/* Force sidebar dark mode - override Ant Design */
.ant-layout-sider,
.ant-layout-sider-light,
.ant-layout-sider-dark {
  background: var(--layout-sidebar-background) !important;
  border-right: 3px solid var(--color-border-primary) !important;
  box-shadow: 3px 0 12px rgba(0, 0, 0, 0.15) !important;
}

/* Force sidebar menu items */
.ant-menu,
.ant-menu-light,
.ant-menu-dark {
  background: var(--layout-sidebar-background) !important;
  color: var(--color-text-primary) !important;
}

.ant-menu-item,
.ant-menu-submenu-title {
  color: var(--color-text-primary) !important;
  background: transparent !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  padding: 8px 12px !important;
}

.ant-menu-item:hover,
.ant-menu-submenu-title:hover {
  background: var(--layout-sidebar-background-hover) !important;
  color: var(--color-text-primary) !important;
  transform: translateX(2px) !important;
  transition: all 0.2s ease !important;
}

.ant-menu-item-selected {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
  box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3) !important;
}

.ant-menu-item-selected:hover {
  background: var(--color-brand-primary-hover) !important;
  transform: translateX(2px) !important;
}

/* Sidebar submenu styling */
.ant-menu-submenu-popup {
  background: var(--layout-panel-background) !important;
  border: 1px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-lg) !important;
  border-radius: 8px !important;
}

.ant-menu-submenu-popup .ant-menu-item {
  margin: 2px 4px !important;
  border-radius: 4px !important;
}

/* Force header contrast */
.ant-layout-header {
  background: var(--layout-header-background) !important;
  border-bottom: 3px solid var(--color-border-primary) !important;
  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15) !important;
  margin: 0 !important;
  padding: 0 16px !important;
  width: 100% !important;
  height: 64px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

/* Force header buttons to use design system colors */
.ant-layout-header .ant-btn {
  color: var(--color-text-primary) !important;
  background: transparent !important;
  border: 1px solid transparent !important;
}

.ant-layout-header .ant-btn:hover {
  background: var(--layout-panel-background-hover) !important;
  color: var(--color-text-primary) !important;
  border-color: var(--color-border-primary) !important;
}

/* Ultra-aggressive panel styling with maximum specificity */
.enhanced-chat-panel,
.enhanced-data-panel,
.query-editor-panel,
.chart-preview-panel,
.chart-config-panel,
.dashboard-canvas,
.unified-design-panel,
div[class*="panel"],
div[class*="Panel"] {
  background: var(--layout-panel-background) !important;
  background-color: var(--layout-panel-background) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-lg) !important;
  border-radius: 12px !important;
  position: relative !important;
  margin: 8px !important;
  margin-left: 8px !important; /* Consistent left margin */
}

/* Chat History panel - special positioning within content area */
.chat-history-panel {
  background: var(--layout-panel-background) !important;
  background-color: var(--layout-panel-background) !important;
  border: 2px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-lg) !important;
  border-radius: 12px !important;
  position: relative !important;
  margin: 8px !important;
  margin-left: 8px !important; /* Small margin from content edge */
}

/* Dark mode panel enhancements - unique elevated color */
[data-theme="dark"] .enhanced-chat-panel,
[data-theme="dark"] .enhanced-data-panel,
[data-theme="dark"] .chat-history-panel {
  background-color: #1c2128; /* Unique panel color, elevated from other elements */
  border-color: #404040;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

/* Add subtle gradient top border for visual distinction */
.enhanced-chat-panel::before,
.enhanced-data-panel::before,
.chat-history-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--ant-color-primary, var(--color-brand-primary)), var(--ant-color-success, var(--color-functional-success)));
  border-radius: 12px 12px 0 0;
  z-index: 1;
}

/* Dashboard Studio panels - work with Ant Design */
.query-editor-panel,
.chart-preview-panel,
.chart-config-panel,
.dashboard-canvas,
.unified-design-panel {
  background: var(--ant-color-bg-elevated, var(--layout-panel-background));
  border: 2px solid var(--ant-color-border, var(--color-border-primary));
  box-shadow: var(--shadow-lg);
  border-radius: 12px;
  position: relative;
  margin: 8px;
}

/* Dark mode Dashboard Studio panel enhancements - unique elevated color */
[data-theme="dark"] .query-editor-panel,
[data-theme="dark"] .chart-preview-panel,
[data-theme="dark"] .chart-config-panel,
[data-theme="dark"] .dashboard-canvas,
[data-theme="dark"] .unified-design-panel {
  background-color: #1c2128; /* Unique panel color, elevated from other elements */
  border-color: #404040;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

/* Add gradient top border to Dashboard Studio panels */
.query-editor-panel::before,
.chart-preview-panel::before,
.chart-config-panel::before,
.dashboard-canvas::before,
.unified-design-panel::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--ant-color-primary, var(--color-brand-primary)), var(--ant-color-success, var(--color-functional-success)));
  border-radius: 12px 12px 0 0;
  z-index: 1;
}

/* Force main content area */
.ant-layout-content {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
  width: 100% !important;
}

/* Remove any remaining white edges */
.ant-layout,
.ant-layout-has-sider {
  background: var(--layout-background) !important;
  margin: 0 !important;
  padding: 0 !important;
}

.border-secondary {
  border-color: var(--color-border-secondary);
}

/* Dashboard Studio Sidebar */
.ant-layout-sider.modern-sidebar {
  background: var(--layout-sidebar-background) !important;
  border-right: 2px solid var(--color-border-primary) !important;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1) !important;
}

/* Ant Design Select Component Overrides */
.ant-select,
.ant-select-selector {
  background: var(--color-surface-base) !important;
  border-color: var(--color-border-secondary) !important;
  color: var(--color-text-primary) !important;
}

.ant-select-focused .ant-select-selector {
  border-color: var(--color-brand-primary) !important;
  box-shadow: 0 0 0 2px var(--color-brand-primary-light) !important;
}

.ant-select-dropdown {
  background: var(--layout-panel-background) !important;
  border: 1px solid var(--color-border-primary) !important;
  box-shadow: var(--shadow-lg) !important;
}

.ant-select-item {
  color: var(--color-text-primary) !important;
  background: var(--layout-panel-background) !important;
}

.ant-select-item:hover {
  background: var(--layout-panel-background-hover) !important;
  color: var(--color-text-primary) !important;
}

.ant-select-item-option-selected {
  background: var(--color-brand-primary) !important;
  color: var(--color-brand-primary-foreground) !important;
}
}


/* ========================================
   LIGHT MODE OVERRIDES - SOFTER COLORS
   ======================================== */

/* Light mode overrides - stronger colors */
html[data-theme="light"] .ant-layout-header,
html[data-theme="light"] .ant-layout-header * {
  background: #e8eaed !important; /* Stronger than page background */
  background-color: #e8eaed !important;
}

html[data-theme="light"] .ant-layout-sider,
html[data-theme="light"] .ant-layout-sider *,
html[data-theme="light"] .ant-menu,
html[data-theme="light"] .ant-menu * {
  background: #e8eaed !important; /* Stronger than page background */
  background-color: #e8eaed !important;
}

html[data-theme="light"] .enhanced-chat-panel,
html[data-theme="light"] .enhanced-data-panel,
html[data-theme="light"] .chat-history-panel,
html[data-theme="light"] .query-editor-panel,
html[data-theme="light"] .chart-preview-panel,
html[data-theme="light"] .chart-config-panel,
html[data-theme="light"] .dashboard-canvas,
html[data-theme="light"] .unified-design-panel {
  background: #f1f3f4 !important; /* Stronger than page, lighter than header/sidebar */
  background-color: #f1f3f4 !important;
}


/* ========================================
   ULTRA-AGGRESSIVE HEADER FIXES
   ======================================== */

/* Force header background with maximum specificity */
body .ant-layout-header,
html body .ant-layout-header,
#__next .ant-layout-header,
div[class*="ant-layout-header"] {
  background: var(--layout-header-background) !important;
  background-color: var(--layout-header-background) !important;
}

/* Light mode header force */
html[data-theme="light"] body .ant-layout-header,
html[data-theme="light"] html body .ant-layout-header,
html[data-theme="light"] #__next .ant-layout-header {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
}

/* Dark mode header force */
html[data-theme="dark"] body .ant-layout-header,
html[data-theme="dark"] html body .ant-layout-header,
html[data-theme="dark"] #__next .ant-layout-header {
  background: #21262d !important;
  background-color: #21262d !important;
}

/* Force sidebar background with maximum specificity */
body .ant-layout-sider,
html body .ant-layout-sider,
#__next .ant-layout-sider,
div[class*="ant-layout-sider"] {
  background: var(--layout-sidebar-background) !important;
  background-color: var(--layout-sidebar-background) !important;
}

/* Light mode sidebar force */
html[data-theme="light"] body .ant-layout-sider,
html[data-theme="light"] html body .ant-layout-sider,
html[data-theme="light"] #__next .ant-layout-sider {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
}

/* Dark mode sidebar force */
html[data-theme="dark"] body .ant-layout-sider,
html[data-theme="dark"] html body .ant-layout-sider,
html[data-theme="dark"] #__next .ant-layout-sider {
  background: #1a1a1a !important; /* Same as dropdown background */
  background-color: #1a1a1a !important;
}


/* ========================================
   TEXTAREA BORDER FIXES
   ======================================== */

/* Force TextArea border visibility */
.ant-input,
.ant-input:focus,
.ant-input-focused,
textarea.ant-input,
textarea.ant-input:focus,
textarea.ant-input-focused {
  border: 2px solid var(--color-border-primary) !important;
  border-color: var(--color-border-primary) !important;
  box-shadow: none !important;
  outline: none !important;
}

/* Light mode TextArea border */
html[data-theme="light"] .ant-input,
html[data-theme="light"] .ant-input:focus,
html[data-theme="light"] textarea.ant-input,
html[data-theme="light"] textarea.ant-input:focus {
  border-color: #d9d9d9 !important;
}

/* Dark mode TextArea border */
html[data-theme="dark"] .ant-input,
html[data-theme="dark"] .ant-input:focus,
html[data-theme="dark"] textarea.ant-input,
html[data-theme="dark"] textarea.ant-input:focus {
  border-color: #404040 !important;
}


/* ========================================
   ULTRA-AGGRESSIVE WHITE SPACE ELIMINATION
   ======================================== */

/* Eliminate ALL potential white space above header */
*,
*::before,
*::after {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

html,
body,
#__next,
#root,
div[class*="ant-layout"],
div[class*="Layout"] {
  margin-top: 0 !important;
  padding-top: 0 !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Force header to stick to very top */
.ant-layout-header,
div[class*="ant-layout-header"] {
  margin-top: 0 !important;
  padding-top: 0 !important;
  top: 0 !important;
  position: fixed !important;
  z-index: 1000 !important;
}

/* Ensure no gaps above header */
body {
  margin: 0 !important;
  padding: 0 !important;
  overflow-x: hidden !important;
}

html {
  margin: 0 !important;
  padding: 0 !important;
  overflow-x: hidden !important;
}

#__next {
  margin: 0 !important;
  padding: 0 !important;
  min-height: 100vh !important;
}

/* Force main layout to start from top */
.ant-layout,
.ant-layout-has-sider {
  margin-top: 0 !important;
  padding-top: 0 !important;
  min-height: 100vh !important;
}

/* Ensure content starts below header */
.ant-layout-content {
  margin-top: 64px !important; /* Account for fixed header height */
  padding-top: 0 !important;
}


/* ========================================
   MAIN LAYOUT WHITE SPACE ELIMINATION
   ======================================== */

/* Force main layout to start from absolute top */
.ant-layout {
  margin-top: 0 !important;
  padding-top: 0 !important;
  position: relative !important;
}

/* Ensure no gaps in layout structure */
.ant-layout-has-sider {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Force sidebar to start from top */
.ant-layout-sider {
  margin-top: 0 !important;
  padding-top: 0 !important;
  top: 0 !important;
}

/* Additional body/html resets */
html, body {
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
  outline: 0 !important;
  font-size: 100% !important;
  vertical-align: baseline !important;
  background: transparent !important;
}

/* Ensure Next.js root has no margins */
#__next {
  margin: 0 !important;
  padding: 0 !important;
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
}


/* ========================================
   HEADER CONTROLS VISIBILITY FIX
   ======================================== */

/* Ensure header controls are always visible */
.ant-layout-header {
  z-index: 1001 !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
}

/* Ensure sidebar toggle button is visible */
.sidebar-toggle,
.ant-btn.sidebar-toggle {
  z-index: 1002 !important;
  position: relative !important;
  display: flex !important;
  visibility: visible !important;
}

/* Ensure project selector is visible */
.header-left {
  z-index: 1002 !important;
  position: relative !important;
  display: flex !important;
  visibility: visible !important;
}

/* Force header content visibility */
.ant-layout-header > * {
  visibility: visible !important;
  display: flex !important;
}


/* ========================================
   PANEL LEFT MARGIN CONSISTENCY
   ======================================== */

/* Ensure all chat panels have consistent left margin */
.chat-panel,
.chat-messages,
.chat-input-section,
.data-panel,
.history-panel {
  margin-left: 12px !important;
}

/* Specific panel spacing */
.enhanced-chat-panel {
  margin-left: 12px !important;
  margin-right: 8px !important;
  margin-top: 8px !important;
  margin-bottom: 8px !important;
}

.enhanced-data-panel {
  margin-left: 8px !important;
  margin-right: 12px !important;
  margin-top: 8px !important;
  margin-bottom: 8px !important;
}

/* Chat History panel - positioned within content area */
.chat-history-panel {
  margin-left: 8px !important; /* Small margin from content edge */
  margin-right: 8px !important;
  margin-top: 8px !important;
  margin-bottom: 8px !important;
  min-width: 200px !important; /* Ensure minimum width */
  width: auto !important; /* Allow flexible width */
  position: relative !important;
  z-index: 1 !important;
}

/* Dashboard Studio panels */
.query-editor-panel,
.chart-preview-panel,
.chart-config-panel,
.dashboard-canvas,
.unified-design-panel {
  margin-left: 12px !important;
  margin-right: 8px !important;
  margin-top: 8px !important;
  margin-bottom: 8px !important;
}


/* ========================================
   ELIMINATE MARGIN TOP WHITE SPACE
   ======================================== */

/* Force remove all margin-top that could cause white space above header */
*,
*::before,
*::after {
  margin-top: 0 !important;
}

html,
body,
#__next,
#root {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Force header to stick to absolute top */
.ant-layout-header,
div[class*="ant-layout-header"] {
  margin-top: 0 !important;
  padding-top: 0 !important;
  top: 0 !important;
}

/* Ensure main layout has no top margin */
.ant-layout,
.ant-layout-has-sider,
.ant-layout-sider {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Force content to start below header without gaps */
.ant-layout-content {
  margin-top: 64px !important;
  padding-top: 0 !important;
}

/* Additional aggressive resets */
html, body {
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
  outline: 0 !important;
  font-size: 100% !important;
  vertical-align: baseline !important;
  background: transparent !important;
}

#__next {
  margin: 0 !important;
  padding: 0 !important;
  min-height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
}


/* ========================================
   ULTRA-AGGRESSIVE WHITE SPACE ELIMINATION
   ======================================== */

/* Force EVERYTHING to have no top margin/padding */
html,
body,
#__next,
#root,
div,
span,
section,
main,
article,
aside,
nav,
header,
footer {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Force header to absolute top with maximum specificity */
html body .ant-layout-header,
html body div[class*="ant-layout-header"],
#__next .ant-layout-header,
#__next div[class*="ant-layout-header"] {
  margin-top: 0 !important;
  padding-top: 0 !important;
  top: 0 !important;
  position: fixed !important;
  z-index: 9999 !important;
}

/* Force body and html to start from absolute top */
html {
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
  height: 100% !important;
}

body {
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
  height: 100% !important;
  overflow-x: hidden !important;
}

#__next {
  margin: 0 !important;
  padding: 0 !important;
  min-height: 100vh !important;
  height: 100vh !important;
}

/* Force main layout to start from top */
.ant-layout {
  margin-top: 0 !important;
  padding-top: 0 !important;
  position: relative !important;
}

/* Ensure content starts below header */
.ant-layout-content {
  margin-top: 64px !important;
  padding-top: 0 !important;
}


/* ========================================
   HEADER POSITIONING INSPECTION & FIX
   ======================================== */

/* Force header to absolute top with maximum specificity */
html body .ant-layout-header,
html body div[class*="ant-layout-header"],
#__next .ant-layout-header,
#__next div[class*="ant-layout-header"] {
  margin-top: 0 !important;
  padding-top: 0 !important;
  top: 0 !important;
  position: fixed !important;
  z-index: 9999 !important;
  left: var(--sidebar-width, 256px) !important;
  right: 0 !important;
  width: calc(100% - var(--sidebar-width, 256px)) !important;
}

/* Ensure header stretches full width */
.ant-layout-header {
  margin: 0 !important;
  padding: 0 16px !important;
  height: 64px !important;
  line-height: 64px !important;
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  z-index: 9999 !important;
  background: var(--layout-header-background) !important;
  border-bottom: 1px solid var(--color-border-primary) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

/* Force body and html to have no top spacing */
html, body {
  margin: 0 !important;
  padding: 0 !important;
  border: 0 !important;
  outline: 0 !important;
  height: 100% !important;
  overflow-x: hidden !important;
}

#__next {
  margin: 0 !important;
  padding: 0 !important;
  min-height: 100vh !important;
  height: 100vh !important;
  display: flex !important;
  flex-direction: column !important;
}

/* Ensure main layout starts from top */
.ant-layout {
  margin-top: 0 !important;
  padding-top: 0 !important;
  position: relative !important;
  min-height: 100vh !important;
}

/* Force content to start below header */
.ant-layout-content {
  margin-top: 64px !important;
  padding-top: 0 !important;
}


/* ========================================
   LAYOUT POSITIONING
   ======================================== */

/* Proper layout positioning using Ant Design's system */
.ant-layout-header {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 1000 !important;
}

.ant-layout-sider {
  position: fixed !important;
  top: 64px !important; /* Account for fixed header */
  left: 0 !important;
  bottom: 0 !important;
  z-index: 999 !important;
}

.ant-layout-content {
  margin-top: 64px !important; /* Account for fixed header */
  margin-left: 200px !important; /* Account for fixed sidebar */
  transition: margin-left 0.2s ease !important;
}

.ant-layout-sider-collapsed + .ant-layout-content {
  margin-left: 80px !important; /* Account for collapsed sidebar */
}


/* ========================================
   PROPER ANT DESIGN INTEGRATION
   ======================================== */

/* Work with Ant Design's theming system instead of fighting it */
/* Let the ThemeProvider handle colors through proper tokens */

/* Ensure proper CSS variable usage */
:root {
  /* Map our custom variables to Ant Design's expected variables */
  --ant-color-bg-layout: var(--layout-background);
  --ant-color-bg-header: var(--layout-header-background);
  --ant-color-bg-sider: var(--layout-sidebar-background);
  --ant-color-bg-content: var(--layout-content-background);
  --ant-color-bg-container: var(--layout-panel-background);
  --ant-color-bg-elevated: var(--layout-panel-background-raised);
}

[data-theme="dark"] {
  --ant-color-bg-layout: var(--layout-background);
  --ant-color-bg-header: var(--layout-header-background);
  --ant-color-bg-sider: var(--layout-sidebar-background);
  --ant-color-bg-content: var(--layout-content-background);
  --ant-color-bg-container: var(--layout-panel-background);
  --ant-color-bg-elevated: var(--layout-panel-background-raised);
}


/* ========================================
   PANEL STYLING - USING ANT DESIGN TOKENS
   ======================================== */

/* All panels should use Ant Design's proper tokens with mini borders and no shadows */
.enhanced-chat-panel,
.enhanced-data-panel,
.chat-history-panel,
.query-editor-panel,
.chart-preview-panel,
.chart-config-panel,
.dashboard-canvas,
.unified-design-panel,
.EnhancedDataPanel,
.ChatHistoryPanel,
.collapsible-history-panel {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important; /* Mini border */
  border-radius: var(--ant-border-radius-lg) !important;
  box-shadow: none !important; /* Remove shadows */
  margin: 8px !important;
}

/* Database Explorer panel in dash-studio */
.query-editor-panel .ant-tree,
.query-editor-panel .ant-card,
.query-editor-panel .ant-select {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
}

/* Panel headers */
.EnhancedDataPanel .DataHeader,
.ChatHistoryPanel .ChatHistoryHeader,
.history-panel-header {
  background: var(--ant-color-bg-container) !important;
  border-bottom-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

/* Panel content areas */
.EnhancedDataPanel .DataContent,
.ChatHistoryPanel .ChatHistoryContainer,
.history-panel-content {
  background: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
}

/* Database Explorer tree container */
.query-editor-panel .ant-tree-container {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
}

/* Remove debug colors */
html {
  background: transparent !important;
}

body {
  background: transparent !important;
}

#__next {
  background: transparent !important;
}


/* ========================================
   DARK MODE SIDEBAR & MENU ALIGNMENT FIX
   ======================================== */

/* Ensure dark mode sidebar background is properly applied */
[data-theme="dark"] .ant-layout-sider,
[data-theme="dark"] .ant-layout-sider-light,
[data-theme="dark"] .ant-layout-sider-dark {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
}

/* Ensure dark mode menu background matches sidebar */
[data-theme="dark"] .ant-menu,
[data-theme="dark"] .ant-menu-light,
[data-theme="dark"] .ant-menu-dark,
[data-theme="dark"] .ant-menu-root,
[data-theme="dark"] .ant-menu-inline,
[data-theme="dark"] .ant-menu-vertical {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
}

/* Dark mode menu items */
[data-theme="dark"] .ant-menu-item,
[data-theme="dark"] .ant-menu-submenu-title,
[data-theme="dark"] .ant-menu-item-only-child {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  color: #e5e5e5 !important;
}

/* Dark mode menu item hover */
[data-theme="dark"] .ant-menu-item:hover,
[data-theme="dark"] .ant-menu-submenu-title:hover,
[data-theme="dark"] .ant-menu-item-only-child:hover {
  background: #2a2a2a !important;
  background-color: #2a2a2a !important;
  color: #ffffff !important;
}

/* Dark mode menu item selected */
[data-theme="dark"] .ant-menu-item-selected,
[data-theme="dark"] .ant-menu-item-selected:hover {
  background: #2563eb !important;
  background-color: #2563eb !important;
  color: #ffffff !important;
}

/* Dark mode submenu popup */
[data-theme="dark"] .ant-menu-submenu-popup {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  border-color: #404040 !important;
}

[data-theme="dark"] .ant-menu-submenu-popup .ant-menu-item {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  color: #e5e5e5 !important;
}

[data-theme="dark"] .ant-menu-submenu-popup .ant-menu-item:hover {
  background: #2a2a2a !important;
  background-color: #2a2a2a !important;
  color: #ffffff !important;
}

/* Force Ant Design's dark algorithm to work properly */
.ant-layout-sider-dark {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
}

.ant-menu-dark {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
}

.ant-menu-dark .ant-menu-item {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  color: #e5e5e5 !important;
}

.ant-menu-dark .ant-menu-item:hover {
  background: #2a2a2a !important;
  background-color: #2a2a2a !important;
  color: #ffffff !important;
}

.ant-menu-dark .ant-menu-item-selected {
  background: #2563eb !important;
  background-color: #2563eb !important;
  color: #ffffff !important;
}


/* ========================================
   HEADER DARK MODE FIX
   ======================================== */

/* Ensure header background matches sidebar in dark mode */
[data-theme="dark"] .ant-layout-header {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
}

/* Light mode header */
[data-theme="light"] .ant-layout-header {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
}

/* Force header styling for all header elements */
.ant-layout-header,
.LayoutHeader,
.layout-header {
  background: var(--ant-color-bg-container) !important;
}

/* Dark mode specific header overrides */
[data-theme="dark"] .ant-layout-header,
[data-theme="dark"] .LayoutHeader,
[data-theme="dark"] .layout-header {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  color: #e5e5e5 !important;
}

/* Light mode specific header overrides */
[data-theme="light"] .ant-layout-header,
[data-theme="light"] .LayoutHeader,
[data-theme="light"] .layout-header {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
  color: #262626 !important;
}


/* ========================================
   DROPDOWN MENU COLOR FIX
   ======================================== */

/* Ensure dropdown menus match sidebar background */
.ant-menu-submenu-popup {
  background: var(--ant-color-bg-container) !important;
  background-color: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
}

/* Light mode dropdown */
[data-theme="light"] .ant-menu-submenu-popup {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
  border-color: #d9d9d9 !important;
}

/* Dark mode dropdown */
[data-theme="dark"] .ant-menu-submenu-popup {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  border-color: #404040 !important;
}

/* Dropdown menu items */
.ant-menu-submenu-popup .ant-menu-item {
  background: var(--ant-color-bg-container) !important;
  background-color: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
}

/* Light mode dropdown items */
[data-theme="light"] .ant-menu-submenu-popup .ant-menu-item {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
  color: #262626 !important;
}

/* Dark mode dropdown items */
[data-theme="dark"] .ant-menu-submenu-popup .ant-menu-item {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  color: #e5e5e5 !important;
}

/* Dropdown menu item hover */
.ant-menu-submenu-popup .ant-menu-item:hover {
  background: var(--ant-color-fill-secondary) !important;
  background-color: var(--ant-color-fill-secondary) !important;
}

/* Light mode dropdown item hover */
[data-theme="light"] .ant-menu-submenu-popup .ant-menu-item:hover {
  background: #d1d5db !important;
  background-color: #d1d5db !important;
  color: #262626 !important;
}

/* Dark mode dropdown item hover */
[data-theme="dark"] .ant-menu-submenu-popup .ant-menu-item:hover {
  background: #2a2a2a !important;
  background-color: #2a2a2a !important;
  color: #ffffff !important;
}

/* Dropdown menu item selected */
.ant-menu-submenu-popup .ant-menu-item-selected {
  background: var(--ant-color-primary) !important;
  background-color: var(--ant-color-primary) !important;
  color: var(--ant-color-primary-foreground) !important;
}

/* Force Ant Design dropdown styling */
.ant-menu-dark .ant-menu-submenu-popup {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
}

.ant-menu-light .ant-menu-submenu-popup {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
}

.ant-menu-dark .ant-menu-submenu-popup .ant-menu-item {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  color: #e5e5e5 !important;
}

.ant-menu-light .ant-menu-submenu-popup .ant-menu-item {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
  color: #262626 !important;
}

.ant-menu-dark .ant-menu-submenu-popup .ant-menu-item:hover {
  background: #2a2a2a !important;
  background-color: #2a2a2a !important;
  color: #ffffff !important;
}

.ant-menu-light .ant-menu-submenu-popup .ant-menu-item:hover {
  background: #d1d5db !important;
  background-color: #d1d5db !important;
  color: #262626 !important;
}


/* ========================================
   SPECIFIC DROPDOWN OVERRIDES
   ======================================== */

/* Force all Ant Design dropdowns to use our colors */
.ant-dropdown {
  background: var(--ant-color-bg-container) !important;
  background-color: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
}

[data-theme="dark"] .ant-dropdown {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  border-color: #404040 !important;
}

[data-theme="light"] .ant-dropdown {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
  border-color: #d9d9d9 !important;
}

/* Dropdown menu items */
.ant-dropdown-menu {
  background: var(--ant-color-bg-container) !important;
  background-color: var(--ant-color-bg-container) !important;
}

[data-theme="dark"] .ant-dropdown-menu {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
}

[data-theme="light"] .ant-dropdown-menu {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
}

.ant-dropdown-menu-item {
  background: var(--ant-color-bg-container) !important;
  background-color: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
}

[data-theme="dark"] .ant-dropdown-menu-item {
  background: #1a1a1a !important;
  background-color: #1a1a1a !important;
  color: #e5e5e5 !important;
}

[data-theme="light"] .ant-dropdown-menu-item {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
  color: #262626 !important;
}

.ant-dropdown-menu-item:hover {
  background: var(--ant-color-fill-secondary) !important;
  background-color: var(--ant-color-fill-secondary) !important;
}

[data-theme="dark"] .ant-dropdown-menu-item:hover {
  background: #2a2a2a !important;
  background-color: #2a2a2a !important;
  color: #ffffff !important;
}

[data-theme="light"] .ant-dropdown-menu-item:hover {
  background: #d1d5db !important;
  background-color: #d1d5db !important;
  color: #262626 !important;
}


/* ========================================
   DARK BLUE THEME OVERRIDES
   ======================================== */

/* Ensure dark blue theme is applied consistently */
[data-theme="dark"] .ant-layout-sider,
[data-theme="dark"] .ant-layout-sider-light,
[data-theme="dark"] .ant-layout-sider-dark {
  background: #001529 !important;
  background-color: #001529 !important;
}

[data-theme="dark"] .ant-layout-header {
  background: #001529 !important;
  background-color: #001529 !important;
  color: #ffffff !important;
}

[data-theme="dark"] .ant-menu,
[data-theme="dark"] .ant-menu-light,
[data-theme="dark"] .ant-menu-dark,
[data-theme="dark"] .ant-menu-root,
[data-theme="dark"] .ant-menu-inline,
[data-theme="dark"] .ant-menu-vertical {
  background: #001529 !important;
  background-color: #001529 !important;
}

[data-theme="dark"] .ant-menu-item,
[data-theme="dark"] .ant-menu-submenu-title,
[data-theme="dark"] .ant-menu-item-only-child {
  background: #001529 !important;
  background-color: #001529 !important;
  color: #ffffff !important;
}

[data-theme="dark"] .ant-menu-item:hover,
[data-theme="dark"] .ant-menu-submenu-title:hover,
[data-theme="dark"] .ant-menu-item-only-child:hover {
  background: #002140 !important;
  background-color: #002140 !important;
  color: #ffffff !important;
}

[data-theme="dark"] .ant-menu-item-selected,
[data-theme="dark"] .ant-menu-item-selected:hover {
  background: #1890ff !important;
  background-color: #1890ff !important;
  color: #ffffff !important;
}

[data-theme="dark"] .ant-menu-submenu-popup {
  background: #001529 !important;
  background-color: #001529 !important;
  border-color: #404040 !important;
}

[data-theme="dark"] .ant-menu-submenu-popup .ant-menu-item {
  background: #001529 !important;
  background-color: #001529 !important;
  color: #ffffff !important;
}

[data-theme="dark"] .ant-menu-submenu-popup .ant-menu-item:hover {
  background: #002140 !important;
  background-color: #002140 !important;
  color: #ffffff !important;
}

/* Force Ant Design's dark theme to use our dark blue */
.ant-layout-sider-dark {
  background: #001529 !important;
  background-color: #001529 !important;
}

.ant-menu-dark {
  background: #001529 !important;
  background-color: #001529 !important;
}

.ant-menu-dark .ant-menu-item {
  background: #001529 !important;
  background-color: #001529 !important;
  color: #ffffff !important;
}

.ant-menu-dark .ant-menu-item:hover {
  background: #002140 !important;
  background-color: #002140 !important;
  color: #ffffff !important;
}

.ant-menu-dark .ant-menu-item-selected {
  background: #1890ff !important;
  background-color: #1890ff !important;
  color: #ffffff !important;
}


/* ========================================
   HEADER SIDEBAR COLOR MATCH
   ======================================== */

/* Ensure header background exactly matches sidebar */
.ant-layout-header {
  background: var(--ant-color-bg-container) !important;
  background-color: var(--ant-color-bg-container) !important;
}

/* Force header to use same color as sidebar in dark mode */
[data-theme="dark"] .ant-layout-header {
  background: #001529 !important;
  background-color: #001529 !important;
  color: #ffffff !important;
}

/* Force header to use same color as sidebar in light mode */
[data-theme="light"] .ant-layout-header {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
  color: #262626 !important;
}

/* Ensure header content inherits proper colors */
.ant-layout-header * {
  color: inherit;
}

[data-theme="dark"] .ant-layout-header * {
  color: #ffffff !important;
}

[data-theme="light"] .ant-layout-header * {
  color: #262626 !important;
}


/* ========================================
   ULTRA-AGGRESSIVE HEADER SIDEBAR MATCH
   ======================================== */

/* Force header to match sidebar exactly - maximum specificity */
.ant-layout-header,
.LayoutHeader,
.layout-header,
div[class*="ant-layout-header"],
div[class*="LayoutHeader"] {
  background: var(--ant-color-bg-container) !important;
  background-color: var(--ant-color-bg-container) !important;
}

/* Dark mode - force dark blue to match sidebar */
[data-theme="dark"] .ant-layout-header,
[data-theme="dark"] .LayoutHeader,
[data-theme="dark"] .layout-header,
[data-theme="dark"] div[class*="ant-layout-header"],
[data-theme="dark"] div[class*="LayoutHeader"] {
  background: #001529 !important;
  background-color: #001529 !important;
  color: #ffffff !important;
}

/* Light mode - force light grey to match sidebar */
[data-theme="light"] .ant-layout-header,
[data-theme="light"] .LayoutHeader,
[data-theme="light"] .layout-header,
[data-theme="light"] div[class*="ant-layout-header"],
[data-theme="light"] div[class*="LayoutHeader"] {
  background: #e8eaed !important;
  background-color: #e8eaed !important;
  color: #262626 !important;
}

/* Force all header content to use proper colors */
[data-theme="dark"] .ant-layout-header *,
[data-theme="dark"] .ant-layout-header .ant-btn,
[data-theme="dark"] .ant-layout-header .ant-typography,
[data-theme="dark"] .ant-layout-header span,
[data-theme="dark"] .ant-layout-header div {
  color: #ffffff !important;
}

[data-theme="light"] .ant-layout-header *,
[data-theme="light"] .ant-layout-header .ant-btn,
[data-theme="light"] .ant-layout-header .ant-typography,
[data-theme="light"] .ant-layout-header span,
[data-theme="light"] .ant-layout-header div {
  color: #262626 !important;
}

/* Specific override for Aiser text */
[data-theme="dark"] .ant-layout-header span[style*="fontWeight: bold"] {
  color: #ffffff !important;
}

/* Force button colors in header */
[data-theme="dark"] .ant-layout-header .ant-btn-text {
  color: #ffffff !important;
}

[data-theme="dark"] .ant-layout-header .ant-btn-text:hover {
  background: rgba(255, 255, 255, 0.1) !important;
  color: #ffffff !important;
}

[data-theme="light"] .ant-layout-header .ant-btn-text {
  color: #262626 !important;
}

[data-theme="light"] .ant-layout-header .ant-btn-text:hover {
  background: rgba(0, 0, 0, 0.1) !important;
  color: #262626 !important;
}


/* ========================================
   AISER TEXT COLOR FIX
   ======================================== */

/* Force Aiser text to be white in dark mode */
.aiser-text,
span.aiser-text,
.ant-layout-header .aiser-text,
[data-theme="dark"] .aiser-text,
[data-theme="dark"] span.aiser-text,
[data-theme="dark"] .ant-layout-header .aiser-text {
  color: var(--color-text-primary) !important;
}

[data-theme="dark"] .aiser-text,
[data-theme="dark"] span.aiser-text,
[data-theme="dark"] .ant-layout-header .aiser-text {
  color: #ffffff !important;
}

[data-theme="light"] .aiser-text,
[data-theme="light"] span.aiser-text,
[data-theme="light"] .ant-layout-header .aiser-text {
  color: #262626 !important;
}

/* Force any text in header with bold font weight to be white in dark mode */
[data-theme="dark"] .ant-layout-header span[style*="fontWeight: bold"],
[data-theme="dark"] .ant-layout-header span[style*="font-weight: bold"] {
  color: #ffffff !important;
}

/* ========================================
   PANEL STYLING UPDATE - MINI BORDERS NO SHADOWS
   ======================================== */

/* Update all panels to have mini borders without shadows */
.enhanced-chat-panel,
.enhanced-data-panel,
.chat-history-panel,
.query-editor-panel,
.chart-preview-panel,
.chart-config-panel,
.dashboard-canvas,
.unified-design-panel,
.EnhancedDataPanel,
.ChatHistoryPanel,
.collapsible-history-panel {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important; /* Mini border */
  border-radius: var(--ant-border-radius-lg) !important;
  box-shadow: none !important; /* Remove shadows */
  margin: 8px !important;
}

/* Database Explorer panel in dash-studio */
.query-editor-panel .ant-tree,
.query-editor-panel .ant-card,
.query-editor-panel .ant-select {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
}

/* Panel headers */
.EnhancedDataPanel .DataHeader,
.ChatHistoryPanel .ChatHistoryHeader,
.history-panel-header {
  background: var(--ant-color-bg-container) !important;
  border-bottom: 1px solid var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

/* Panel content areas */
.EnhancedDataPanel .DataContent,
.ChatHistoryPanel .ChatHistoryContainer,
.history-panel-content {
  background: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
}

/* Database Explorer tree container */
.query-editor-panel .ant-tree-container {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
}


/* ========================================
   ULTRA-AGGRESSIVE AISER TEXT FIX
   ======================================== */

/* Force Aiser text to be white in dark mode - maximum specificity */
.ant-layout-header .aiser-text,
.ant-layout-header span.aiser-text,
.ant-layout-header div .aiser-text,
.ant-layout-header div span.aiser-text,
[data-theme="dark"] .ant-layout-header .aiser-text,
[data-theme="dark"] .ant-layout-header span.aiser-text,
[data-theme="dark"] .ant-layout-header div .aiser-text,
[data-theme="dark"] .ant-layout-header div span.aiser-text,
[data-theme="dark"] .ant-layout-header span[style*="fontWeight: bold"],
[data-theme="dark"] .ant-layout-header span[style*="font-weight: bold"] {
  color: #ffffff !important;
}

/* Force any text in header area to be white in dark mode */
[data-theme="dark"] .ant-layout-header span,
[data-theme="dark"] .ant-layout-header div,
[data-theme="dark"] .ant-layout-header .ant-typography {
  color: #ffffff !important;
}

/* ========================================
   HISTORY AND DATA PANEL BORDERS
   ======================================== */

/* Add proper borders to History and Data panels */
.ChatHistoryPanel,
.EnhancedDataPanel,
.collapsible-history-panel {
  border: 1px solid var(--ant-color-border) !important;
  border-radius: var(--ant-border-radius-lg) !important;
  box-shadow: none !important;
}

/* Dark mode borders */
[data-theme="dark"] .ChatHistoryPanel,
[data-theme="dark"] .EnhancedDataPanel,
[data-theme="dark"] .collapsible-history-panel {
  border-color: #404040 !important;
}

/* Light mode borders */
[data-theme="light"] .ChatHistoryPanel,
[data-theme="light"] .EnhancedDataPanel,
[data-theme="light"] .collapsible-history-panel {
  border-color: #d9d9d9 !important;
}

/* ========================================
   CHAT INPUT AREA BORDER
   ======================================== */

/* Add minimalist border above chat input area */
.chat-input-section,
.input-container {
  border-top: 1px solid var(--ant-color-border) !important;
  padding-top: 16px !important;
  margin-top: 16px !important;
}

/* Dark mode chat input border */
[data-theme="dark"] .chat-input-section,
[data-theme="dark"] .input-container {
  border-top-color: #404040 !important;
}

/* Light mode chat input border */
[data-theme="light"] .chat-input-section,
[data-theme="light"] .input-container {
  border-top-color: #d9d9d9 !important;
}

/* Style the Data Source section */
.chat-input-section .data-source-bar,
.input-container .data-source-bar {
  border-bottom: 1px solid var(--ant-color-border) !important;
  padding-bottom: 12px !important;
  margin-bottom: 12px !important;
}

[data-theme="dark"] .chat-input-section .data-source-bar,
[data-theme="dark"] .input-container .data-source-bar {
  border-bottom-color: #404040 !important;
}

[data-theme="light"] .chat-input-section .data-source-bar,
[data-theme="light"] .input-container .data-source-bar {
  border-bottom-color: #d9d9d9 !important;
}


/* ========================================
   COMPREHENSIVE STYLING FIXES
   ======================================== */

/* 1. AISER TEXT WHITE IN DARK MODE - MAXIMUM SPECIFICITY */
.ant-layout-header span,
.ant-layout-header div,
.ant-layout-header .ant-typography,
.ant-layout-header .ant-btn,
.ant-layout-header * {
  color: inherit;
}

[data-theme="dark"] .ant-layout-header span,
[data-theme="dark"] .ant-layout-header div,
[data-theme="dark"] .ant-layout-header .ant-typography,
[data-theme="dark"] .ant-layout-header .ant-btn,
[data-theme="dark"] .ant-layout-header * {
  color: #ffffff !important;
}

/* Specific Aiser text targeting */
[data-theme="dark"] .ant-layout-header span[style*="fontWeight: bold"],
[data-theme="dark"] .ant-layout-header span[style*="font-weight: bold"],
[data-theme="dark"] .ant-layout-header .aiser-text,
[data-theme="dark"] .ant-layout-header div span {
  color: #ffffff !important;
}

/* 2. SEND BUTTON AND INPUT STYLING */
[data-theme="dark"] .ant-btn-primary {
  background: #1890ff !important;
  border-color: #1890ff !important;
  color: #ffffff !important;
}

[data-theme="dark"] .ant-btn-primary:hover {
  background: #40a9ff !important;
  border-color: #40a9ff !important;
  color: #ffffff !important;
}

[data-theme="dark"] .ant-input,
[data-theme="dark"] .ant-input-focused,
[data-theme="dark"] textarea.ant-input {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
  color: #ffffff !important;
}

[data-theme="dark"] .ant-input::placeholder,
[data-theme="dark"] textarea.ant-input::placeholder {
  color: #bfbfbf !important;
}

/* 3. CHAT INPUT AREA BORDERS - VISIBLE */
.chat-input-section {
  border-top: 2px solid var(--ant-color-border) !important;
  padding-top: 16px !important;
  margin-top: 16px !important;
}

[data-theme="dark"] .chat-input-section {
  border-top-color: #404040 !important;
}

[data-theme="light"] .chat-input-section {
  border-top-color: #d9d9d9 !important;
}

.data-source-bar {
  border-bottom: 2px solid var(--ant-color-border) !important;
  padding-bottom: 12px !important;
  margin-bottom: 12px !important;
}

[data-theme="dark"] .data-source-bar {
  border-bottom-color: #404040 !important;
}

[data-theme="light"] .data-source-bar {
  border-bottom-color: #d9d9d9 !important;
}

/* 4. PANEL BORDERS - CHAT HISTORY AND DATA PANEL */
.ChatHistoryPanel,
.EnhancedDataPanel,
.collapsible-history-panel {
  border: 2px solid var(--ant-color-border) !important;
  border-radius: var(--ant-border-radius-lg) !important;
  box-shadow: none !important;
  background: var(--ant-color-bg-container) !important;
}

[data-theme="dark"] .ChatHistoryPanel,
[data-theme="dark"] .EnhancedDataPanel,
[data-theme="dark"] .collapsible-history-panel {
  border-color: #404040 !important;
  background: var(--ant-color-bg-container) !important;
}

[data-theme="light"] .ChatHistoryPanel,
[data-theme="light"] .EnhancedDataPanel,
[data-theme="light"] .collapsible-history-panel {
  border-color: #d9d9d9 !important;
  background: var(--ant-color-bg-container) !important;
}

/* 5. QUERY EDITOR PANEL/SIDEBAR BORDERS */
.query-editor-panel,
.modern-sidebar,
.ant-layout-sider {
  border: 2px solid var(--ant-color-border) !important;
  border-radius: var(--ant-border-radius-lg) !important;
  box-shadow: none !important;
}

[data-theme="dark"] .query-editor-panel,
[data-theme="dark"] .modern-sidebar,
[data-theme="dark"] .ant-layout-sider {
  border-color: #404040 !important;
}

[data-theme="light"] .query-editor-panel,
[data-theme="light"] .modern-sidebar,
[data-theme="light"] .ant-layout-sider {
  border-color: #d9d9d9 !important;
}

/* 6. DASHBOARD STUDIO SIDEBAR BORDERS */
.dashboard-studio .ant-layout-sider,
.dashboard-studio .modern-sidebar {
  border: 2px solid var(--ant-color-border) !important;
  border-radius: var(--ant-border-radius-lg) !important;
}

[data-theme="dark"] .dashboard-studio .ant-layout-sider,
[data-theme="dark"] .dashboard-studio .modern-sidebar {
  border-color: #404040 !important;
}

[data-theme="light"] .dashboard-studio .ant-layout-sider,
[data-theme="light"] .dashboard-studio .modern-sidebar {
  border-color: #d9d9d9 !important;
}

/* 7. FORCE ALL PANELS TO HAVE VISIBLE BORDERS */
.enhanced-chat-panel,
.enhanced-data-panel,
.chat-history-panel,
.query-editor-panel,
.chart-preview-panel,
.chart-config-panel,
.dashboard-canvas,
.unified-design-panel {
  border: 2px solid var(--ant-color-border) !important;
  border-radius: var(--ant-border-radius-lg) !important;
  box-shadow: none !important;
  background: var(--ant-color-bg-container) !important;
}

[data-theme="dark"] .enhanced-chat-panel,
[data-theme="dark"] .enhanced-data-panel,
[data-theme="dark"] .chat-history-panel,
[data-theme="dark"] .query-editor-panel,
[data-theme="dark"] .chart-preview-panel,
[data-theme="dark"] .chart-config-panel,
[data-theme="dark"] .dashboard-canvas,
[data-theme="dark"] .unified-design-panel {
  border-color: #404040 !important;
  background: var(--ant-color-bg-container) !important;
}

[data-theme="light"] .enhanced-chat-panel,
[data-theme="light"] .enhanced-data-panel,
[data-theme="light"] .chat-history-panel,
[data-theme="light"] .query-editor-panel,
[data-theme="light"] .chart-preview-panel,
[data-theme="light"] .chart-config-panel,
[data-theme="light"] .dashboard-canvas,
[data-theme="light"] .unified-design-panel {
  border-color: #d9d9d9 !important;
  background: var(--ant-color-bg-container) !important;
}


/* ========================================
   ENHANCED REAL-TIME DESIGN SYSTEM
   ======================================== */

/* Force real-time updates for all custom properties */
:root {
  /* Ensure all custom properties are reactive */
  --color-brand-primary: #2563eb;
  --color-brand-primary-hover: #1d4ed8;
  --color-brand-primary-active: #1e40af;
  --color-brand-primary-light: #dbeafe;
  --color-brand-primary-dark: #1e3a8a;
  
  /* Layout colors with better contrast */
  --layout-background: #f8f9fa;
  --layout-header-background: #e8eaed;
  --layout-sidebar-background: #e8eaed;
  --layout-content-background: #ffffff;
  --layout-panel-background: #f1f3f4;
  --layout-panel-background-subtle: #f0f2f5;
  --layout-panel-background-raised: #f1f3f4;
  
  /* Text colors with proper hierarchy */
  --color-text-primary: #262626;
  --color-text-secondary: #595959;
  --color-text-tertiary: #8c8c8c;
  --color-text-quaternary: #bfbfbf;
  
  /* Border colors */
  --color-border-primary: #d9d9d9;
  --color-border-secondary: #f0f0f0;
  
  /* Surface colors */
  --color-surface-base: #ffffff;
  --color-surface-raised: #f8f9fa;
  --color-surface-overlay: #ffffff;
  
  /* Functional colors */
  --color-functional-success: #52c41a;
  --color-functional-warning: #faad14;
  --color-functional-danger: #ff4d4f;
  --color-functional-info: #1890ff;
  
  /* Component library integration */
  --ant-color-primary: #2563eb;
  --ant-color-success: #52c41a;
  --ant-color-warning: #faad14;
  --ant-color-error: #ff4d4f;
  --ant-color-info: #1890ff;
  --ant-color-bg-container: #ffffff;
  --ant-color-text: #262626;
  --ant-color-border: #d9d9d9;
}

/* Dark mode with better contrast */
[data-theme="dark"] {
  --color-brand-primary: #3b82f6;
  --color-brand-primary-hover: #60a5fa;
  --color-brand-primary-active: #2563eb;
  --color-brand-primary-light: #1e3a8a;
  --color-brand-primary-dark: #1e40af;
  
  --layout-background: #0d1117;
  --layout-header-background: #21262d;
  --layout-sidebar-background: #21262d;
  --layout-content-background: #161b22;
  --layout-panel-background: #1a1a1a;
  --layout-panel-background-subtle: #21262d;
  --layout-panel-background-raised: #1a1a1a;
  
  --color-text-primary: #e5e5e5;
  --color-text-secondary: #a0a0a0;
  --color-text-tertiary: #8c8c8c;
  --color-text-quaternary: #6b7280;
  
  --color-border-primary: #404040;
  --color-border-secondary: #30363d;
  
  --color-surface-base: #161b22;
  --color-surface-raised: #21262d;
  --color-surface-overlay: #1a1a1a;
  
  --ant-color-primary: #3b82f6;
  --ant-color-bg-container: #161b22;
  --ant-color-text: #e5e5e5;
  --ant-color-border: #404040;
}

/* ========================================
   ENHANCED COMPONENT STYLING
   ======================================== */

/* Improved button styling */
.ant-btn-primary {
  background: var(--color-brand-primary) !important;
  border-color: var(--color-brand-primary) !important;
  color: #ffffff !important;
  transition: all 0.2s ease !important;
}

.ant-btn-primary:hover {
  background: var(--color-brand-primary-hover) !important;
  border-color: var(--color-brand-primary-hover) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3) !important;
}

.ant-btn-primary:active {
  background: var(--color-brand-primary-active) !important;
  border-color: var(--color-brand-primary-active) !important;
  transform: translateY(0) !important;
}

/* Enhanced input styling */
.ant-input,
.ant-input-affix-wrapper,
textarea.ant-input {
  background: var(--color-surface-base) !important;
  border-color: var(--color-border-primary) !important;
  color: var(--color-text-primary) !important;
  transition: all 0.2s ease !important;
}

.ant-input:focus,
.ant-input-affix-wrapper:focus,
textarea.ant-input:focus {
  border-color: var(--color-brand-primary) !important;
  box-shadow: 0 0 0 2px var(--color-brand-primary-light) !important;
}

/* Improved card styling */
.ant-card {
  background: var(--layout-panel-background) !important;
  border-color: var(--color-border-primary) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  transition: all 0.2s ease !important;
}

.ant-card:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15) !important;
  transform: translateY(-2px) !important;
}

/* Enhanced select styling */
.ant-select {
  background: var(--color-surface-base) !important;
}

.ant-select .ant-select-selector {
  background: var(--color-surface-base) !important;
  border-color: var(--color-border-primary) !important;
  color: var(--color-text-primary) !important;
}

.ant-select-focused .ant-select-selector {
  border-color: var(--color-brand-primary) !important;
  box-shadow: 0 0 0 2px var(--color-brand-primary-light) !important;
}

/* Improved dropdown styling */
.ant-select-dropdown {
  background: var(--color-surface-overlay) !important;
  border-color: var(--color-border-primary) !important;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15) !important;
}

.ant-select-item {
  color: var(--color-text-primary) !important;
}

.ant-select-item:hover {
  background: var(--color-surface-raised) !important;
}

.ant-select-item-option-selected {
  background: var(--color-brand-primary-light) !important;
  color: var(--color-brand-primary-dark) !important;
}

/* Enhanced modal styling */
.ant-modal-content {
  background: var(--color-surface-overlay) !important;
  border-color: var(--color-border-primary) !important;
}

.ant-modal-header {
  background: var(--color-surface-overlay) !important;
  border-bottom-color: var(--color-border-primary) !important;
}

.ant-modal-title {
  color: var(--color-text-primary) !important;
}

/* Improved tooltip styling */
.ant-tooltip-inner {
  background: var(--color-surface-overlay) !important;
  color: var(--color-text-primary) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

.ant-tooltip-arrow::before {
  background: var(--color-surface-overlay) !important;
}

/* Enhanced progress styling */
.ant-progress-bg {
  background: var(--color-brand-primary) !important;
}

.ant-progress-success-bg {
  background: var(--color-functional-success) !important;
}

/* Improved notification styling */
.ant-notification {
  background: var(--color-surface-overlay) !important;
  border-color: var(--color-border-primary) !important;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15) !important;
}

.ant-notification-notice-message {
  color: var(--color-text-primary) !important;
}

.ant-notification-notice-description {
  color: var(--color-text-secondary) !important;
}

/* Enhanced message styling */
.ant-message {
  color: var(--color-text-primary) !important;
}

.ant-message-success .anticon {
  color: var(--color-functional-success) !important;
}

.ant-message-error .anticon {
  color: var(--color-functional-danger) !important;
}

.ant-message-warning .anticon {
  color: var(--color-functional-warning) !important;
}

.ant-message-info .anticon {
  color: var(--color-functional-info) !important;
}

/* ========================================
   RESPONSIVE ENHANCEMENTS
   ======================================== */

/* Mobile-first responsive design */
@media (max-width: 768px) {
  .ant-drawer {
    width: 100% !important;
  }
  
  .ant-card {
    margin: 8px !important;
  }
  
  .ant-btn {
    min-height: 44px !important; /* Better touch targets */
  }
  
  .ant-input,
  .ant-input-affix-wrapper,
  textarea.ant-input {
    min-height: 44px !important;
  }
}

/* Tablet optimizations */
@media (min-width: 769px) and (max-width: 1024px) {
  .ant-drawer {
    width: 400px !important;
  }
}

/* Desktop enhancements */
@media (min-width: 1025px) {
  .ant-card:hover {
    transform: translateY(-2px) !important;
  }
  
  .ant-btn:hover {
    transform: translateY(-1px) !important;
  }
}

/* ========================================
   ACCESSIBILITY IMPROVEMENTS
   ======================================== */

/* Focus indicators */
.ant-btn:focus,
.ant-input:focus,
.ant-select:focus,
.ant-card:focus {
  outline: 2px solid var(--color-brand-primary) !important;
  outline-offset: 2px !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --color-border-primary: #000000;
    --color-text-primary: #000000;
  }
  
  [data-theme="dark"] {
    --color-border-primary: #ffffff;
    --color-text-primary: #ffffff;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
  }
}

/* ========================================
   PERFORMANCE OPTIMIZATIONS
   ======================================== */

/* GPU acceleration for smooth animations */
.ant-card,
.ant-btn,
.ant-input,
.ant-select {
  will-change: transform !important;
  backface-visibility: hidden !important;
}

/* Optimize repaints */
.ant-layout-header,
.ant-layout-sider,
.ant-layout-content {
  contain: layout style paint !important;
}


/* ========================================
   COMPREHENSIVE COMPONENT STYLING
   ======================================== */

/* Enhanced Card Styling for All Components */
.ant-card,
.dashboard-studio .ant-card,
.unified-design-panel .ant-card,
.monaco-sql-editor .ant-card,
.chart-widget .ant-card {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important;
  border-radius: 12px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06) !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.ant-card:hover,
.dashboard-studio .ant-card:hover,
.unified-design-panel .ant-card:hover,
.monaco-sql-editor .ant-card:hover,
.chart-widget .ant-card:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12) !important;
  transform: translateY(-2px) !important;
}

.ant-card-head {
  background: var(--ant-color-bg-container) !important;
  border-bottom: 1px solid var(--ant-color-border) !important;
}

.ant-card-head-title {
  color: var(--ant-color-text) !important;
  font-weight: 600 !important;
}

.ant-card-body {
  color: var(--ant-color-text) !important;
}

/* Enhanced Button Styling for All Components */
.ant-btn,
.dashboard-studio .ant-btn,
.unified-design-panel .ant-btn,
.monaco-sql-editor .ant-btn,
.chart-widget .ant-btn {
  border-radius: 8px !important;
  font-weight: 500 !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
}

.ant-btn-primary {
  background: var(--ant-primary-color) !important;
  border-color: var(--ant-primary-color) !important;
  color: #ffffff !important;
}

.ant-btn-primary:hover {
  background: var(--ant-primary-color-hover) !important;
  border-color: var(--ant-primary-color-hover) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px var(--ant-primary-color-outline) !important;
}

.ant-btn-primary:active {
  background: var(--ant-primary-color-active) !important;
  border-color: var(--ant-primary-color-active) !important;
  transform: translateY(0) !important;
}

.ant-btn-primary:focus {
  background: var(--ant-primary-color) !important;
  border-color: var(--ant-primary-color) !important;
  box-shadow: 0 0 0 2px var(--ant-primary-color-outline) !important;
}

.ant-btn-default {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

.ant-btn-default:hover {
  border-color: var(--ant-primary-color) !important;
  color: var(--ant-primary-color) !important;
  transform: translateY(-1px) !important;
}

.ant-btn-text {
  color: var(--ant-color-text-secondary) !important;
}

.ant-btn-text:hover {
  background: var(--ant-color-fill-secondary) !important;
  color: var(--ant-color-text) !important;
}

/* Enhanced Input Styling for All Components */
.ant-input,
.ant-input-affix-wrapper,
.ant-select-selector,
textarea.ant-input,
.dashboard-studio .ant-input,
.unified-design-panel .ant-input,
.monaco-sql-editor .ant-input,
.chart-widget .ant-input {
  border-radius: 8px !important;
  border-color: var(--ant-color-border) !important;
  background: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
}

.ant-input:focus,
.ant-input-affix-wrapper:focus,
.ant-select-focused .ant-select-selector,
textarea.ant-input:focus,
.dashboard-studio .ant-input:focus,
.unified-design-panel .ant-input:focus,
.monaco-sql-editor .ant-input:focus,
.chart-widget .ant-input:focus {
  border-color: var(--ant-primary-color) !important;
  box-shadow: 0 0 0 2px var(--ant-primary-color-outline) !important;
}

.ant-input::placeholder,
textarea.ant-input::placeholder {
  color: var(--ant-color-text-quaternary) !important;
}

/* Enhanced Select Styling for All Components */
.ant-select,
.dashboard-studio .ant-select,
.unified-design-panel .ant-select,
.monaco-sql-editor .ant-select,
.chart-widget .ant-select {
  background: var(--ant-color-bg-container) !important;
}

.ant-select-dropdown,
.dashboard-studio .ant-select-dropdown,
.unified-design-panel .ant-select-dropdown,
.monaco-sql-editor .ant-select-dropdown,
.chart-widget .ant-select-dropdown {
  border-radius: 8px !important;
  border-color: var(--ant-color-border) !important;
  background: var(--ant-color-bg-elevated) !important;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12) !important;
}

.ant-select-item,
.dashboard-studio .ant-select-item,
.unified-design-panel .ant-select-item,
.monaco-sql-editor .ant-select-item,
.chart-widget .ant-select-item {
  color: var(--ant-color-text) !important;
  border-radius: 6px !important;
  margin: 2px 4px !important;
}

.ant-select-item:hover,
.dashboard-studio .ant-select-item:hover,
.unified-design-panel .ant-select-item:hover,
.monaco-sql-editor .ant-select-item:hover,
.chart-widget .ant-select-item:hover {
  background: var(--ant-color-fill-secondary) !important;
}

.ant-select-item-option-selected,
.dashboard-studio .ant-select-item-option-selected,
.unified-design-panel .ant-select-item-option-selected,
.monaco-sql-editor .ant-select-item-option-selected,
.chart-widget .ant-select-item-option-selected {
  background: var(--ant-primary-color-outline) !important;
  color: var(--ant-primary-color-active) !important;
  font-weight: 500 !important;
}

/* Enhanced Modal Styling for All Components */
.ant-modal-content,
.dashboard-studio .ant-modal-content,
.unified-design-panel .ant-modal-content,
.monaco-sql-editor .ant-modal-content,
.chart-widget .ant-modal-content {
  border-radius: 12px !important;
  background: var(--ant-color-bg-elevated) !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
}

.ant-modal-header,
.dashboard-studio .ant-modal-header,
.unified-design-panel .ant-modal-header,
.monaco-sql-editor .ant-modal-header,
.chart-widget .ant-modal-header {
  border-bottom-color: var(--ant-color-border-secondary) !important;
  background: var(--ant-color-bg-elevated) !important;
}

.ant-modal-title,
.dashboard-studio .ant-modal-title,
.unified-design-panel .ant-modal-title,
.monaco-sql-editor .ant-modal-title,
.chart-widget .ant-modal-title {
  color: var(--ant-color-text) !important;
  font-weight: 600 !important;
}

/* Enhanced Drawer Styling for All Components */
.ant-drawer-content,
.dashboard-studio .ant-drawer-content,
.unified-design-panel .ant-drawer-content,
.monaco-sql-editor .ant-drawer-content,
.chart-widget .ant-drawer-content {
  background: var(--ant-color-bg-elevated) !important;
}

.ant-drawer-header,
.dashboard-studio .ant-drawer-header,
.unified-design-panel .ant-drawer-header,
.monaco-sql-editor .ant-drawer-header,
.chart-widget .ant-drawer-header {
  border-bottom-color: var(--ant-color-border-secondary) !important;
  background: var(--ant-color-bg-elevated) !important;
}

.ant-drawer-title,
.dashboard-studio .ant-drawer-title,
.unified-design-panel .ant-drawer-title,
.monaco-sql-editor .ant-drawer-title,
.chart-widget .ant-drawer-title {
  color: var(--ant-color-text) !important;
  font-weight: 600 !important;
}

/* Enhanced Tooltip Styling for All Components */
.ant-tooltip-inner,
.dashboard-studio .ant-tooltip-inner,
.unified-design-panel .ant-tooltip-inner,
.monaco-sql-editor .ant-tooltip-inner,
.chart-widget .ant-tooltip-inner {
  border-radius: 8px !important;
  background: var(--ant-color-bg-elevated) !important;
  color: var(--ant-color-text) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  font-weight: 500 !important;
}

.ant-tooltip-arrow::before,
.dashboard-studio .ant-tooltip-arrow::before,
.unified-design-panel .ant-tooltip-arrow::before,
.monaco-sql-editor .ant-tooltip-arrow::before,
.chart-widget .ant-tooltip-arrow::before {
  background: var(--ant-color-bg-elevated) !important;
}

/* Enhanced Layout Styling for All Components */
.ant-layout-header,
.dashboard-studio .ant-layout-header,
.unified-design-panel .ant-layout-header,
.monaco-sql-editor .ant-layout-header,
.chart-widget .ant-layout-header {
  background: var(--ant-color-bg-header) !important;
  border-bottom-color: var(--ant-color-border-secondary) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06) !important;
}

.ant-layout-sider,
.dashboard-studio .ant-layout-sider,
.unified-design-panel .ant-layout-sider,
.monaco-sql-editor .ant-layout-sider,
.chart-widget .ant-layout-sider {
  background: var(--ant-color-bg-sider) !important;
  border-right-color: var(--ant-color-border-secondary) !important;
}

.ant-layout-content,
.dashboard-studio .ant-layout-content,
.unified-design-panel .ant-layout-content,
.monaco-sql-editor .ant-layout-content,
.chart-widget .ant-layout-content {
  background: var(--ant-color-bg-content) !important;
}

/* Enhanced Menu Styling for All Components */
.ant-menu,
.dashboard-studio .ant-menu,
.unified-design-panel .ant-menu,
.monaco-sql-editor .ant-menu,
.chart-widget .ant-menu {
  background: var(--ant-color-bg-sider) !important;
}

.ant-menu-item,
.dashboard-studio .ant-menu-item,
.unified-design-panel .ant-menu-item,
.monaco-sql-editor .ant-menu-item,
.chart-widget .ant-menu-item {
  color: var(--ant-color-text-secondary) !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.ant-menu-item:hover,
.dashboard-studio .ant-menu-item:hover,
.unified-design-panel .ant-menu-item:hover,
.monaco-sql-editor .ant-menu-item:hover,
.chart-widget .ant-menu-item:hover {
  background: var(--ant-color-fill-secondary) !important;
  color: var(--ant-color-text) !important;
}

.ant-menu-item-selected,
.dashboard-studio .ant-menu-item-selected,
.unified-design-panel .ant-menu-item-selected,
.monaco-sql-editor .ant-menu-item-selected,
.chart-widget .ant-menu-item-selected {
  background: var(--ant-primary-color-outline) !important;
  color: var(--ant-primary-color-active) !important;
  font-weight: 500 !important;
}

/* Enhanced Progress Styling for All Components */
.ant-progress-bg,
.dashboard-studio .ant-progress-bg,
.unified-design-panel .ant-progress-bg,
.monaco-sql-editor .ant-progress-bg,
.chart-widget .ant-progress-bg {
  background: var(--ant-primary-color) !important;
  border-radius: 4px !important;
}

.ant-progress-success-bg,
.dashboard-studio .ant-progress-success-bg,
.unified-design-panel .ant-progress-success-bg,
.monaco-sql-editor .ant-progress-success-bg,
.chart-widget .ant-progress-success-bg {
  background: var(--ant-color-success) !important;
}

/* Enhanced Notification Styling for All Components */
.ant-notification,
.dashboard-studio .ant-notification,
.unified-design-panel .ant-notification,
.monaco-sql-editor .ant-notification,
.chart-widget .ant-notification {
  border-radius: 8px !important;
  background: var(--ant-color-bg-elevated) !important;
  border-color: var(--ant-color-border) !important;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12) !important;
}

.ant-notification-notice-message,
.dashboard-studio .ant-notification-notice-message,
.unified-design-panel .ant-notification-notice-message,
.monaco-sql-editor .ant-notification-notice-message,
.chart-widget .ant-notification-notice-message {
  color: var(--ant-color-text) !important;
  font-weight: 500 !important;
}

.ant-notification-notice-description,
.dashboard-studio .ant-notification-notice-description,
.unified-design-panel .ant-notification-notice-description,
.monaco-sql-editor .ant-notification-notice-description,
.chart-widget .ant-notification-notice-description {
  color: var(--ant-color-text-secondary) !important;
}

/* Enhanced Message Styling for All Components */
.ant-message,
.dashboard-studio .ant-message,
.unified-design-panel .ant-message,
.monaco-sql-editor .ant-message,
.chart-widget .ant-message {
  color: var(--ant-color-text) !important;
}

.ant-message-success .anticon,
.dashboard-studio .ant-message-success .anticon,
.unified-design-panel .ant-message-success .anticon,
.monaco-sql-editor .ant-message-success .anticon,
.chart-widget .ant-message-success .anticon {
  color: var(--ant-color-success) !important;
}

.ant-message-error .anticon,
.dashboard-studio .ant-message-error .anticon,
.unified-design-panel .ant-message-error .anticon,
.monaco-sql-editor .ant-message-error .anticon,
.chart-widget .ant-message-error .anticon {
  color: var(--ant-color-error) !important;
}

.ant-message-warning .anticon,
.dashboard-studio .ant-message-warning .anticon,
.unified-design-panel .ant-message-warning .anticon,
.monaco-sql-editor .ant-message-warning .anticon,
.chart-widget .ant-message-warning .anticon {
  color: var(--ant-color-warning) !important;
}

.ant-message-info .anticon,
.dashboard-studio .ant-message-info .anticon,
.unified-design-panel .ant-message-info .anticon,
.monaco-sql-editor .ant-message-info .anticon,
.chart-widget .ant-message-info .anticon {
  color: var(--ant-color-info) !important;
}

/* Override Ant Design tokens for better integration */
:root {
  /* Ant Design Primary Colors */
  --ant-primary-color: #2563eb;
  --ant-primary-color-hover: #1d4ed8;
  --ant-primary-color-active: #1e40af;
  --ant-primary-color-outline: rgba(37, 99, 235, 0.2);
  
  /* Ant Design Background Colors */
  --ant-color-bg-base: #ffffff;
  --ant-color-bg-container: #ffffff;
  --ant-color-bg-elevated: #ffffff;
  --ant-color-bg-layout: #f8f9fa;
  --ant-color-bg-spotlight: #f8f9fa;
  
  /* Ant Design Text Colors */
  --ant-color-text: #262626;
  --ant-color-text-secondary: #595959;
  --ant-color-text-tertiary: #8c8c8c;
  --ant-color-text-quaternary: #bfbfbf;
  
  /* Ant Design Border Colors */
  --ant-color-border: #d9d9d9;
  --ant-color-border-secondary: #f0f0f0;
  
  /* Ant Design Success Colors */
  --ant-color-success: #52c41a;
  --ant-color-success-hover: #73d13d;
  --ant-color-success-active: #389e0d;
  --ant-color-success-outline: rgba(82, 196, 26, 0.2);
  
  /* Ant Design Warning Colors */
  --ant-color-warning: #faad14;
  --ant-color-warning-hover: #ffc53d;
  --ant-color-warning-active: #d48806;
  --ant-color-warning-outline: rgba(250, 173, 20, 0.2);
  
  /* Ant Design Error Colors */
  --ant-color-error: #ff4d4f;
  --ant-color-error-hover: #ff7875;
  --ant-color-error-active: #d9363e;
  --ant-color-error-outline: rgba(255, 77, 79, 0.2);
  
  /* Ant Design Info Colors */
  --ant-color-info: #1890ff;
  --ant-color-info-hover: #40a9ff;
  --ant-color-info-active: #096dd9;
  --ant-color-info-outline: rgba(24, 144, 255, 0.2);
  
  /* Ant Design Layout Colors */
  --ant-color-bg-header: #e8eaed;
  --ant-color-bg-sider: #e8eaed;
  --ant-color-bg-content: #ffffff;
  
  /* Ant Design Component Colors */
  --ant-color-fill: #f5f5f5;
  --ant-color-fill-secondary: #fafafa;
  --ant-color-fill-tertiary: #f0f0f0;
  --ant-color-fill-quaternary: #fafafa;
}

/* Dark Mode Ant Design Tokens */
[data-theme="dark"] {
  --ant-primary-color: #3b82f6;
  --ant-primary-color-hover: #60a5fa;
  --ant-primary-color-active: #2563eb;
  --ant-primary-color-outline: rgba(59, 130, 246, 0.2);
  
  --ant-color-bg-base: #161b22;
  --ant-color-bg-container: #161b22;
  --ant-color-bg-elevated: #1a1a1a;
  --ant-color-bg-layout: #0d1117;
  --ant-color-bg-spotlight: #21262d;
  
  --ant-color-text: #e5e5e5;
  --ant-color-text-secondary: #a0a0a0;
  --ant-color-text-tertiary: #8c8c8c;
  --ant-color-text-quaternary: #6b7280;
  
  --ant-color-border: #404040;
  --ant-color-border-secondary: #30363d;
  
  --ant-color-bg-header: #21262d;
  --ant-color-bg-sider: #21262d;
  --ant-color-bg-content: #161b22;
  
  --ant-color-fill: #262626;
  --ant-color-fill-secondary: #1a1a1a;
  --ant-color-fill-tertiary: #21262d;
  --ant-color-fill-quaternary: #1a1a1a;
}

/* ========================================
   ANT DESIGN COMPONENT ENHANCEMENTS
   ======================================== */

/* Enhanced Button Styling */
.ant-btn {
  border-radius: 8px !important;
  font-weight: 500 !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
}

.ant-btn-primary {
  background: var(--ant-primary-color) !important;
  border-color: var(--ant-primary-color) !important;
  color: #ffffff !important;
}

.ant-btn-primary:hover {
  background: var(--ant-primary-color-hover) !important;
  border-color: var(--ant-primary-color-hover) !important;
  transform: translateY(-1px) !important;
  box-shadow: 0 4px 12px var(--ant-primary-color-outline) !important;
}

.ant-btn-primary:active {
  background: var(--ant-primary-color-active) !important;
  border-color: var(--ant-primary-color-active) !important;
  transform: translateY(0) !important;
}

.ant-btn-primary:focus {
  background: var(--ant-primary-color) !important;
  border-color: var(--ant-primary-color) !important;
  box-shadow: 0 0 0 2px var(--ant-primary-color-outline) !important;
}

/* Enhanced Input Styling */
.ant-input,
.ant-input-affix-wrapper,
.ant-select-selector,
textarea.ant-input {
  border-radius: 8px !important;
  border-color: var(--ant-color-border) !important;
  background: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
}

.ant-input:focus,
.ant-input-affix-wrapper:focus,
.ant-select-focused .ant-select-selector,
textarea.ant-input:focus {
  border-color: var(--ant-primary-color) !important;
  box-shadow: 0 0 0 2px var(--ant-primary-color-outline) !important;
}

.ant-input::placeholder,
textarea.ant-input::placeholder {
  color: var(--ant-color-text-quaternary) !important;
}

/* Enhanced Card Styling */
.ant-card {
  border-radius: 12px !important;
  border-color: var(--ant-color-border) !important;
  background: var(--ant-color-bg-container) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06) !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.ant-card:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12) !important;
  transform: translateY(-2px) !important;
}

.ant-card-head {
  border-bottom-color: var(--ant-color-border-secondary) !important;
  background: var(--ant-color-bg-container) !important;
}

.ant-card-head-title {
  color: var(--ant-color-text) !important;
  font-weight: 600 !important;
}

/* Enhanced Select Styling */
.ant-select {
  background: var(--ant-color-bg-container) !important;
}

.ant-select-dropdown {
  border-radius: 8px !important;
  border-color: var(--ant-color-border) !important;
  background: var(--ant-color-bg-elevated) !important;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12) !important;
}

.ant-select-item {
  color: var(--ant-color-text) !important;
  border-radius: 6px !important;
  margin: 2px 4px !important;
}

.ant-select-item:hover {
  background: var(--ant-color-fill-secondary) !important;
}

.ant-select-item-option-selected {
  background: var(--ant-primary-color-outline) !important;
  color: var(--ant-primary-color-active) !important;
  font-weight: 500 !important;
}

/* Enhanced Modal Styling */
.ant-modal-content {
  border-radius: 12px !important;
  background: var(--ant-color-bg-elevated) !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
}

.ant-modal-header {
  border-bottom-color: var(--ant-color-border-secondary) !important;
  background: var(--ant-color-bg-elevated) !important;
}

.ant-modal-title {
  color: var(--ant-color-text) !important;
  font-weight: 600 !important;
}

/* Enhanced Drawer Styling */
.ant-drawer-content {
  background: var(--ant-color-bg-elevated) !important;
}

.ant-drawer-header {
  border-bottom-color: var(--ant-color-border-secondary) !important;
  background: var(--ant-color-bg-elevated) !important;
}

.ant-drawer-title {
  color: var(--ant-color-text) !important;
  font-weight: 600 !important;
}

/* Enhanced Tooltip Styling */
.ant-tooltip-inner {
  border-radius: 8px !important;
  background: var(--ant-color-bg-elevated) !important;
  color: var(--ant-color-text) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  font-weight: 500 !important;
}

.ant-tooltip-arrow::before {
  background: var(--ant-color-bg-elevated) !important;
}

/* Enhanced Layout Styling */
.ant-layout-header {
  background: var(--ant-color-bg-header) !important;
  border-bottom-color: var(--ant-color-border-secondary) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06) !important;
}

.ant-layout-sider {
  background: var(--ant-color-bg-sider) !important;
  border-right-color: var(--ant-color-border-secondary) !important;
}

.ant-layout-content {
  background: var(--ant-color-bg-content) !important;
}

/* Enhanced Menu Styling */
.ant-menu {
  background: var(--ant-color-bg-sider) !important;
}

.ant-menu-item {
  color: var(--ant-color-text-secondary) !important;
  border-radius: 6px !important;
  margin: 2px 8px !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.ant-menu-item:hover {
  background: var(--ant-color-fill-secondary) !important;
  color: var(--ant-color-text) !important;
}

.ant-menu-item-selected {
  background: var(--ant-primary-color-outline) !important;
  color: var(--ant-primary-color-active) !important;
  font-weight: 500 !important;
}

/* Enhanced Progress Styling */
.ant-progress-bg {
  background: var(--ant-primary-color) !important;
  border-radius: 4px !important;
}

.ant-progress-success-bg {
  background: var(--ant-color-success) !important;
}

/* Enhanced Notification Styling */
.ant-notification {
  border-radius: 8px !important;
  background: var(--ant-color-bg-elevated) !important;
  border-color: var(--ant-color-border) !important;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12) !important;
}

.ant-notification-notice-message {
  color: var(--ant-color-text) !important;
  font-weight: 500 !important;
}

.ant-notification-notice-description {
  color: var(--ant-color-text-secondary) !important;
}

/* Enhanced Message Styling */
.ant-message {
  color: var(--ant-color-text) !important;
}

.ant-message-success .anticon {
  color: var(--ant-color-success) !important;
}

.ant-message-error .anticon {
  color: var(--ant-color-error) !important;
}

.ant-message-warning .anticon {
  color: var(--ant-color-warning) !important;
}

.ant-message-info .anticon {
  color: var(--ant-color-info) !important;
}

/* ========================================
   COMPREHENSIVE RESPONSIVE DESIGN
   ======================================== */

/* Mobile-first responsive design for all components */
@media (max-width: 768px) {
  /* Enhanced mobile button styling */
  .ant-btn,
  .dashboard-studio .ant-btn,
  .unified-design-panel .ant-btn,
  .monaco-sql-editor .ant-btn,
  .chart-widget .ant-btn {
    min-height: 44px !important;
    font-size: 16px !important;
    padding: 8px 16px !important;
  }
  
  /* Enhanced mobile input styling */
  .ant-input,
  .ant-input-affix-wrapper,
  .ant-select-selector,
  textarea.ant-input,
  .dashboard-studio .ant-input,
  .unified-design-panel .ant-input,
  .monaco-sql-editor .ant-input,
  .chart-widget .ant-input {
    min-height: 44px !important;
    font-size: 16px !important;
    padding: 12px 16px !important;
  }
  
  /* Enhanced mobile card styling */
  .ant-card,
  .dashboard-studio .ant-card,
  .unified-design-panel .ant-card,
  .monaco-sql-editor .ant-card,
  .chart-widget .ant-card {
    margin: 8px !important;
    border-radius: 8px !important;
  }
  
  /* Enhanced mobile modal styling */
  .ant-modal,
  .dashboard-studio .ant-modal,
  .unified-design-panel .ant-modal,
  .monaco-sql-editor .ant-modal,
  .chart-widget .ant-modal {
    margin: 0 !important;
    max-width: 100% !important;
    top: 0 !important;
  }
  
  .ant-modal-content,
  .dashboard-studio .ant-modal-content,
  .unified-design-panel .ant-modal-content,
  .monaco-sql-editor .ant-modal-content,
  .chart-widget .ant-modal-content {
    border-radius: 0 !important;
    height: 100vh !important;
  }
  
  /* Enhanced mobile drawer styling */
  .ant-drawer,
  .dashboard-studio .ant-drawer,
  .unified-design-panel .ant-drawer,
  .monaco-sql-editor .ant-drawer,
  .chart-widget .ant-drawer {
    width: 100% !important;
  }
  
  /* Enhanced mobile layout adjustments */
  .ant-layout-header,
  .dashboard-studio .ant-layout-header,
  .unified-design-panel .ant-layout-header,
  .monaco-sql-editor .ant-layout-header,
  .chart-widget .ant-layout-header {
    padding: 0 12px !important;
    height: 56px !important;
    line-height: 56px !important;
  }
  
  .ant-layout-sider,
  .dashboard-studio .ant-layout-sider,
  .unified-design-panel .ant-layout-sider,
  .monaco-sql-editor .ant-layout-sider,
  .chart-widget .ant-layout-sider {
    position: absolute !important;
    z-index: 1000 !important;
    height: 100% !important;
  }
  
  .ant-layout-content,
  .dashboard-studio .ant-layout-content,
  .unified-design-panel .ant-layout-content,
  .monaco-sql-editor .ant-layout-content,
  .chart-widget .ant-layout-content {
    margin-left: 0 !important;
    padding: 12px !important;
  }
  
  /* Enhanced mobile menu styling */
  .ant-menu-item,
  .dashboard-studio .ant-menu-item,
  .unified-design-panel .ant-menu-item,
  .monaco-sql-editor .ant-menu-item,
  .chart-widget .ant-menu-item {
    min-height: 48px !important;
    line-height: 48px !important;
    font-size: 16px !important;
  }
  
  /* Enhanced mobile typography */
  .ant-typography,
  .dashboard-studio .ant-typography,
  .unified-design-panel .ant-typography,
  .monaco-sql-editor .ant-typography,
  .chart-widget .ant-typography {
    font-size: 16px !important;
    line-height: 1.5 !important;
  }
  
  .ant-typography h1,
  .dashboard-studio .ant-typography h1,
  .unified-design-panel .ant-typography h1,
  .monaco-sql-editor .ant-typography h1,
  .chart-widget .ant-typography h1 {
    font-size: 24px !important;
  }
  
  .ant-typography h2,
  .dashboard-studio .ant-typography h2,
  .unified-design-panel .ant-typography h2,
  .monaco-sql-editor .ant-typography h2,
  .chart-widget .ant-typography h2 {
    font-size: 20px !important;
  }
  
  .ant-typography h3,
  .dashboard-studio .ant-typography h3,
  .unified-design-panel .ant-typography h3,
  .monaco-sql-editor .ant-typography h3,
  .chart-widget .ant-typography h3 {
    font-size: 18px !important;
  }
}

/* Tablet optimizations */
@media (min-width: 769px) and (max-width: 1024px) {
  /* Enhanced tablet drawer styling */
  .ant-drawer,
  .dashboard-studio .ant-drawer,
  .unified-design-panel .ant-drawer,
  .monaco-sql-editor .ant-drawer,
  .chart-widget .ant-drawer {
    width: 400px !important;
  }
  
  /* Enhanced tablet card styling */
  .ant-card,
  .dashboard-studio .ant-card,
  .unified-design-panel .ant-card,
  .monaco-sql-editor .ant-card,
  .chart-widget .ant-card {
    margin: 12px !important;
  }
  
  /* Enhanced tablet layout adjustments */
  .ant-layout-sider,
  .dashboard-studio .ant-layout-sider,
  .unified-design-panel .ant-layout-sider,
  .monaco-sql-editor .ant-layout-sider,
  .chart-widget .ant-layout-sider {
    width: 240px !important;
  }
  
  .ant-layout-content,
  .dashboard-studio .ant-layout-content,
  .unified-design-panel .ant-layout-content,
  .monaco-sql-editor .ant-layout-content,
  .chart-widget .ant-layout-content {
    margin-left: 240px !important;
  }
}

/* Desktop enhancements */
@media (min-width: 1025px) {
  /* Enhanced desktop hover effects */
  .ant-card:hover,
  .dashboard-studio .ant-card:hover,
  .unified-design-panel .ant-card:hover,
  .monaco-sql-editor .ant-card:hover,
  .chart-widget .ant-card:hover {
    transform: translateY(-2px) !important;
  }
  
  .ant-btn:hover,
  .dashboard-studio .ant-btn:hover,
  .unified-design-panel .ant-btn:hover,
  .monaco-sql-editor .ant-btn:hover,
  .chart-widget .ant-btn:hover {
    transform: translateY(-1px) !important;
  }
  
  .ant-input:focus,
  .ant-input-affix-wrapper:focus,
  .dashboard-studio .ant-input:focus,
  .unified-design-panel .ant-input:focus,
  .monaco-sql-editor .ant-input:focus,
  .chart-widget .ant-input:focus {
    transform: translateY(-1px) !important;
  }
  
  /* Enhanced desktop layout */
  .ant-layout-sider,
  .dashboard-studio .ant-layout-sider,
  .unified-design-panel .ant-layout-sider,
  .monaco-sql-editor .ant-layout-sider,
  .chart-widget .ant-layout-sider {
    width: 280px !important;
  }
  
  .ant-layout-content,
  .dashboard-studio .ant-layout-content,
  .unified-design-panel .ant-layout-content,
  .monaco-sql-editor .ant-layout-content,
  .chart-widget .ant-layout-content {
    margin-left: 280px !important;
  }
}

/* High DPI display optimizations */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .ant-card,
  .dashboard-studio .ant-card,
  .unified-design-panel .ant-card,
  .monaco-sql-editor .ant-card,
  .chart-widget .ant-card {
    border-width: 0.5px !important;
  }
  
  .ant-btn,
  .dashboard-studio .ant-btn,
  .unified-design-panel .ant-btn,
  .monaco-sql-editor .ant-btn,
  .chart-widget .ant-btn {
    border-width: 0.5px !important;
  }
  
  .ant-input,
  .ant-input-affix-wrapper,
  .ant-select-selector,
  .dashboard-studio .ant-input,
  .unified-design-panel .ant-input,
  .monaco-sql-editor .ant-input,
  .chart-widget .ant-input {
    border-width: 0.5px !important;
  }
}

/* Landscape orientation optimizations */
@media (orientation: landscape) and (max-height: 500px) {
  .ant-layout-header,
  .dashboard-studio .ant-layout-header,
  .unified-design-panel .ant-layout-header,
  .monaco-sql-editor .ant-layout-header,
  .chart-widget .ant-layout-header {
    height: 48px !important;
    line-height: 48px !important;
  }
  
  .ant-modal-content,
  .dashboard-studio .ant-modal-content,
  .unified-design-panel .ant-modal-content,
  .monaco-sql-editor .ant-modal-content,
  .chart-widget .ant-modal-content {
    max-height: 90vh !important;
  }
}

/* Print optimizations */
@media print {
  .ant-layout-header,
  .ant-layout-sider,
  .ant-btn,
  .ant-modal,
  .ant-drawer {
    display: none !important;
  }
  
  .ant-layout-content {
    margin-left: 0 !important;
    padding: 0 !important;
  }
  
  .ant-card {
    break-inside: avoid !important;
    box-shadow: none !important;
    border: 1px solid #000 !important;
  }
}

/* ========================================
   CRITICAL COLOR CONSISTENCY FIXES
   ======================================== */

/* Fix red sidebar issue - use consistent theme colors */
.ant-layout-sider,
.dashboard-studio .ant-layout-sider,
.unified-design-panel .ant-layout-sider,
.monaco-sql-editor .ant-layout-sider,
.chart-widget .ant-layout-sider {
  background: var(--ant-color-bg-sider) !important;
  border-right-color: var(--ant-color-border-secondary) !important;
}

/* Fix chat history panel - distinct from sidebar */
.chat-history-panel,
.history-panel,
.collapsible-history-panel {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important;
  border-radius: 12px !important;
  margin-left: 0 !important;
}

/* Fix data panel - distinct from sidebar and input areas */
.data-panel,
.enhanced-data-panel,
.sources-panel {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important;
  border-radius: 12px !important;
}

/* Ensure collapsed panels maintain distinct colors */
.ant-layout-sider-collapsed,
.collapsed-sidebar,
.collapsed-panel {
  background: var(--ant-color-bg-sider) !important;
  border-right-color: var(--ant-color-border-secondary) !important;
}

/* Input/message box areas - distinct from panels */
.chat-input-section,
.input-container,
.message-input-area,
.ant-input,
.ant-input-affix-wrapper {
  background: var(--ant-color-bg-content) !important;
  border-color: var(--ant-color-border) !important;
}

/* Ensure panels are visually distinct from input areas */
.enhanced-chat-panel,
.enhanced-data-panel,
.chat-history-panel,
.data-panel,
.query-editor-panel,
.monaco-sql-editor-container,
.ChatHistoryPanel,
.collapsible-history-panel {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important;
  border-radius: 12px !important;
  margin: 8px !important;
}

/* Specific override for chat history panel to prevent conflict with sidebar */
.chat-history-panel {
  margin-left: 0 !important;
}

/* Fix send button - use primary color instead of red */
.send-button,
.ant-btn-primary.send-button {
  background: var(--ant-primary-color) !important;
  border-color: var(--ant-primary-color) !important;
  color: #ffffff !important;
}

/* Fix analyze buttons - make them solid instead of outlined */
.analyze-button,
.sample-data-button {
  background: var(--ant-primary-color) !important;
  border-color: var(--ant-primary-color) !important;
  color: #ffffff !important;
  border-radius: 8px !important;
  font-weight: 500 !important;
}

.analyze-button:hover,
.sample-data-button:hover {
  background: var(--ant-primary-color-hover) !important;
  border-color: var(--ant-primary-color-hover) !important;
  transform: translateY(-1px) !important;
}

/* Fix dropdown styling consistency */
.ant-select-selector,
.data-source-selector {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
  border-radius: 8px !important;
}

/* Fix banner styling */
.no-data-source-banner,
.welcome-banner {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important;
  border-radius: 12px !important;
  color: var(--ant-color-text) !important;
}

/* Fix sample data cards */
.sample-data-card,
.analyze-card {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important;
  border-radius: 12px !important;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

.sample-data-card:hover,
.analyze-card:hover {
  border-color: var(--ant-primary-color) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12) !important;
  transform: translateY(-2px) !important;
}

@keyframes pulse {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.1);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* ========================================
   COMPREHENSIVE COMPONENT COVERAGE
   ======================================== */

/* Ensure ALL components use design system tokens */
.ant-card,
.ant-card-head,
.ant-card-body,
.ant-card-actions,
.ant-card-meta,
.ant-card-meta-title,
.ant-card-meta-description {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

.ant-modal,
.ant-modal-content,
.ant-modal-header,
.ant-modal-body,
.ant-modal-footer {
  background: var(--ant-color-bg-elevated) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

.ant-drawer,
.ant-drawer-content,
.ant-drawer-header,
.ant-drawer-body {
  background: var(--ant-color-bg-elevated) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

.ant-tooltip,
.ant-tooltip-inner {
  background: var(--ant-color-bg-elevated) !important;
  color: var(--ant-color-text) !important;
}

.ant-popover,
.ant-popover-inner,
.ant-popover-title,
.ant-popover-content {
  background: var(--ant-color-bg-elevated) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

.ant-notification,
.ant-notification-notice,
.ant-notification-notice-content {
  background: var(--ant-color-bg-elevated) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

.ant-message,
.ant-message-notice,
.ant-message-notice-content {
  background: var(--ant-color-bg-elevated) !important;
  color: var(--ant-color-text) !important;
}

/* Loading states */
.enhanced-loading-state,
.loading-state,
.skeleton-container {
  background: var(--ant-color-bg-container) !important;
  border: 1px solid var(--ant-color-border) !important;
  border-radius: 12px !important;
}

/* Form components */
.ant-form,
.ant-form-item,
.ant-form-item-label,
.ant-form-item-control {
  color: var(--ant-color-text) !important;
}

.ant-form-item-label > label {
  color: var(--ant-color-text-secondary) !important;
}

/* Table components */
.ant-table,
.ant-table-thead > tr > th,
.ant-table-tbody > tr > td,
.ant-table-tbody > tr.ant-table-row-hover > td {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

/* List components */
.ant-list,
.ant-list-item,
.ant-list-item-meta,
.ant-list-item-meta-title,
.ant-list-item-meta-description {
  background: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
}

/* Tabs components */
.ant-tabs,
.ant-tabs-tab,
.ant-tabs-content,
.ant-tabs-tabpane {
  background: var(--ant-color-bg-container) !important;
  color: var(--ant-color-text) !important;
}

.ant-tabs-tab-active {
  color: var(--ant-primary-color) !important;
}

/* Collapse components */
.ant-collapse,
.ant-collapse-item,
.ant-collapse-header,
.ant-collapse-content {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

/* Steps components */
.ant-steps,
.ant-steps-item,
.ant-steps-item-title,
.ant-steps-item-description {
  color: var(--ant-color-text) !important;
}

.ant-steps-item-process .ant-steps-item-icon {
  background: var(--ant-primary-color) !important;
  border-color: var(--ant-primary-color) !important;
}

/* Progress components */
.ant-progress-text {
  color: var(--ant-color-text) !important;
}

/* Badge components */
.ant-badge,
.ant-badge-count {
  background: var(--ant-primary-color) !important;
  color: #ffffff !important;
}

/* Tag components */
.ant-tag {
  background: var(--ant-color-fill-secondary) !important;
  border-color: var(--ant-color-border-secondary) !important;
  color: var(--ant-color-text) !important;
}

/* Avatar components */
.ant-avatar {
  background: var(--ant-color-fill) !important;
  color: var(--ant-color-text) !important;
}

/* Divider components */
.ant-divider {
  border-color: var(--ant-color-border-secondary) !important;
}

/* Breadcrumb components */
.ant-breadcrumb,
.ant-breadcrumb-link {
  color: var(--ant-color-text-secondary) !important;
}

.ant-breadcrumb-link:hover {
  color: var(--ant-primary-color) !important;
}

/* Pagination components */
.ant-pagination,
.ant-pagination-item,
.ant-pagination-item-link {
  background: var(--ant-color-bg-container) !important;
  border-color: var(--ant-color-border) !important;
  color: var(--ant-color-text) !important;
}

.ant-pagination-item-active {
  background: var(--ant-primary-color) !important;
  border-color: var(--ant-primary-color) !important;
  color: #ffffff !important;
}

/* Typography components */
.ant-typography,
.ant-typography-title,
.ant-typography-text,
.ant-typography-paragraph {
  color: var(--ant-color-text) !important;
}

/* Link components */
.ant-typography a {
  color: var(--ant-primary-color) !important;
}

.ant-typography a:hover {
  color: var(--ant-primary-color-hover) !important;
}

/* Code components */
.ant-typography code {
  background: var(--ant-color-fill-secondary) !important;
  color: var(--ant-color-text) !important;
  border-color: var(--ant-color-border-secondary) !important;
}

/* ========================================
   MEMORY OPTIMIZATION STYLES
   ======================================== */

/* Optimize animations for better performance */
* {
  will-change: auto;
}

.ant-spin,
.ant-spin-dot,
.ant-spin-dot-item {
  will-change: transform;
}

.ant-progress-circle,
.ant-progress-line {
  will-change: transform;
}

/* Reduce repaints and reflows */
.ant-layout,
.ant-layout-header,
.ant-layout-sider,
.ant-layout-content {
  contain: layout style;
}

.ant-card,
.ant-modal,
.ant-drawer {
  contain: layout style paint;
}

/* Optimize scrolling performance */
.ant-layout-content,
.ant-table-body,
.ant-list,
.ant-menu {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Optimize image loading */
img {
  loading: lazy;
  decoding: async;
}

/* Optimize font loading */
@font-face {
  font-family: 'Inter';
  font-display: swap;
  src: url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
}

/* Live preview indicator animation */
.theme-customizer-live-indicator {
  animation: pulse 2s infinite;
}

/* ========================================
   ACCESSIBILITY IMPROVEMENTS
   ======================================== */

/* Focus indicators */
.ant-btn:focus,
.ant-input:focus,
.ant-select:focus,
.ant-card:focus {
  outline: 2px solid var(--ant-primary-color) !important;
  outline-offset: 2px !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --ant-color-border: #000000;
    --ant-color-text: #000000;
  }
  
  [data-theme="dark"] {
    --ant-color-border: #ffffff;
    --ant-color-text: #ffffff;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
  }
}

/* ========================================
   PERFORMANCE OPTIMIZATIONS
   ======================================== */

/* GPU acceleration for smooth animations */
.ant-card,
.ant-btn,
.ant-input,
.ant-select,
.ant-modal {
  will-change: transform !important;
  backface-visibility: hidden !important;
}

/* Optimize repaints */
.ant-layout-header,
.ant-layout-sider,
.ant-layout-content {
  contain: layout style paint !important;
}
